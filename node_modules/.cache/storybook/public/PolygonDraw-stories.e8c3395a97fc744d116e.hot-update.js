self["webpackHotUpdate_freenow_react_polygon_editor"]("PolygonDraw-stories",{

/***/ "./src/ActionBar/ActionBar.tsx":
/*!*************************************!*\
  !*** ./src/ActionBar/ActionBar.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionBar: () => (/* binding */ ActionBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var _ActionButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionButton */ "./src/ActionBar/ActionButton.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");








const Container = styled_components__WEBPACK_IMPORTED_MODULE_4__["default"].div`
    position: absolute;
    right: 0;
    bottom: 24px;
    display: flex;

    padding-right: 8px;
    padding-left: 8px;

    > * {
        margin-left: 8px;
    }
`;
const ActionBar = ({
  editable,
  drawable,
  deleteInactive,
  isVectorModeEnabled,
  onEnableVectorMode,
  onEnableDrawMode,
  isDrawModeEnabled,
  onFocus,
  onDelete,
  onExport,
  onImport
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(Container, {
  children: [editable && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
      onClick: onEnableVectorMode,
      icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.VECTOR_MODE,
      inactive: !isVectorModeEnabled,
      "aria-label": `${isVectorModeEnabled ? 'Disable Editing' : 'Enable Editing'}`,
      children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.PEN
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
      onClick: onDelete,
      icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.TRASHCAN,
      activeIconColor: _common_colors__WEBPACK_IMPORTED_MODULE_5__.FREEDOM_RED_900,
      disabled: deleteInactive,
      inactive: deleteInactive,
      "aria-label": "Delete",
      children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.DELETE
    })]
  }), drawable && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
      onClick: onEnableDrawMode,
      icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.DRAW_MODE,
      inactive: !isDrawModeEnabled,
      "aria-label": `${isDrawModeEnabled ? 'Disable Drawing' : 'Enable Drawing'}`,
      children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.PEN
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
      onClick: onDelete,
      icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.TRASHCAN,
      activeIconColor: _common_colors__WEBPACK_IMPORTED_MODULE_5__.FREEDOM_RED_900,
      disabled: deleteInactive,
      inactive: deleteInactive,
      "aria-label": "Delete",
      children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.DELETE
    })]
  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
    onClick: onImport,
    icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.IMPORT,
    children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.IMPORT
  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
    onClick: onExport,
    icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.EXPORT,
    children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.EXPORT
  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
    onClick: onFocus,
    icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.FRAME,
    children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.FOCUS
  })]
});
ActionBar.displayName = "ActionBar";
try {
    // @ts-ignore
    ActionBar.displayName = "ActionBar";
    // @ts-ignore
    ActionBar.__docgenInfo = { "description": "", "displayName": "ActionBar", "props": { "editable": { "defaultValue": null, "description": "", "name": "editable", "required": true, "type": { "name": "boolean" } }, "drawable": { "defaultValue": null, "description": "", "name": "drawable", "required": true, "type": { "name": "boolean" } }, "onFocus": { "defaultValue": null, "description": "", "name": "onFocus", "required": true, "type": { "name": "() => void" } }, "onEnableVectorMode": { "defaultValue": null, "description": "", "name": "onEnableVectorMode", "required": true, "type": { "name": "() => void" } }, "isVectorModeEnabled": { "defaultValue": null, "description": "", "name": "isVectorModeEnabled", "required": true, "type": { "name": "boolean" } }, "onEnableDrawMode": { "defaultValue": null, "description": "", "name": "onEnableDrawMode", "required": true, "type": { "name": "() => void" } }, "isDrawModeEnabled": { "defaultValue": null, "description": "", "name": "isDrawModeEnabled", "required": true, "type": { "name": "boolean" } }, "onDelete": { "defaultValue": null, "description": "", "name": "onDelete", "required": true, "type": { "name": "() => void" } }, "deleteInactive": { "defaultValue": null, "description": "", "name": "deleteInactive", "required": true, "type": { "name": "boolean" } }, "onExport": { "defaultValue": null, "description": "", "name": "onExport", "required": true, "type": { "name": "() => void" } }, "onImport": { "defaultValue": null, "description": "", "name": "onImport", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/ActionBar.tsx#ActionBar"] = { docgenInfo: ActionBar.__docgenInfo, name: "ActionBar", path: "src/ActionBar/ActionBar.tsx#ActionBar" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/BoundaryPolygon.tsx":
/*!*********************************************!*\
  !*** ./src/PolygonDraw/BoundaryPolygon.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BoundaryPolygon: () => (/* binding */ BoundaryPolygon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Polygon.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





const BoundaryPolygon = ({
  coordinates,
  hasError
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_4__.Polygon, {
  positions: [_constants__WEBPACK_IMPORTED_MODULE_2__.MAP.WORLD_LAT_LNG_COORDINATES, coordinates.map(_helpers__WEBPACK_IMPORTED_MODULE_1__.createLeafletLatLngFromCoordinate)],
  fillColor: _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.BOUNDARY_COLOR,
  color: hasError ? _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.ERROR_BOUNDARY_COLOR : _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.BOUNDARY_COLOR,
  weight: hasError ? _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.BORDER_WIDTH : 0.4,
  interactive: false
});
BoundaryPolygon.displayName = "BoundaryPolygon";
try {
    // @ts-ignore
    BoundaryPolygon.displayName = "BoundaryPolygon";
    // @ts-ignore
    BoundaryPolygon.__docgenInfo = { "description": "", "displayName": "BoundaryPolygon", "props": { "coordinates": { "defaultValue": null, "description": "", "name": "coordinates", "required": true, "type": { "name": "Coordinate[]" } }, "hasError": { "defaultValue": null, "description": "", "name": "hasError", "required": true, "type": { "name": "boolean" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/BoundaryPolygon.tsx#BoundaryPolygon"] = { docgenInfo: BoundaryPolygon.__docgenInfo, name: "BoundaryPolygon", path: "src/PolygonDraw/BoundaryPolygon.tsx#BoundaryPolygon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/EdgeVertex.tsx":
/*!****************************************!*\
  !*** ./src/PolygonDraw/EdgeVertex.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EdgeVertex: () => (/* binding */ EdgeVertex)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/CircleMarker.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





class EdgeVertex extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {
  state = {
    isHoverActive: false
  };
  handleMouseOver = () => this.setState({
    isHoverActive: true
  });
  handleMouseOut = () => this.setState({
    isHoverActive: false
  });
  handleClick = () => this.props.onClick(this.props.coordinate, this.props.index);
  render() {
    const {
      isHoverActive
    } = this.state;
    const {
      coordinate
    } = this.props;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_4__.CircleMarker, {
      fillColor: _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.VERTEX_FILL_COLOR,
      fillOpacity: isHoverActive ? 1 : 0.8,
      color: _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_ACTIVE_COLOR,
      opacity: isHoverActive ? 1 : 0.8,
      weight: isHoverActive ? 2 : 0.5,
      radius: isHoverActive ? 6 : 3,
      center: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.createLeafletLatLngFromCoordinate)(coordinate),
      eventHandlers: {
        click: this.handleClick,
        mouseover: this.handleMouseOver,
        mouseout: this.handleMouseOut
      }
    });
  }
}
EdgeVertex.displayName = "EdgeVertex";
try {
    // @ts-ignore
    EdgeVertex.displayName = "EdgeVertex";
    // @ts-ignore
    EdgeVertex.__docgenInfo = { "description": "", "displayName": "EdgeVertex", "props": { "coordinate": { "defaultValue": null, "description": "", "name": "coordinate", "required": true, "type": { "name": "Coordinate" } }, "index": { "defaultValue": null, "description": "", "name": "index", "required": true, "type": { "name": "number" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "(coordinate: Coordinate, index: number) => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/EdgeVertex.tsx#EdgeVertex"] = { docgenInfo: EdgeVertex.__docgenInfo, name: "EdgeVertex", path: "src/PolygonDraw/EdgeVertex.tsx#EdgeVertex" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/Map.tsx":
/*!*********************************!*\
  !*** ./src/PolygonDraw/Map.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseMap: () => (/* binding */ BaseMap),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Polyline.js");
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Rectangle.js");
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Pane.js");
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash.flatten */ "./node_modules/lodash.flatten/index.js");
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _common_components_Modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/components/Modal */ "./src/common/components/Modal.tsx");
/* harmony import */ var _conversion_ExportPolygonForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../conversion/ExportPolygonForm */ "./src/conversion/ExportPolygonForm.tsx");
/* harmony import */ var _conversion_ImportPolygonForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../conversion/ImportPolygonForm */ "./src/conversion/ImportPolygonForm.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var _leaflet_Map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../leaflet/Map */ "./src/leaflet/Map.tsx");
/* harmony import */ var _ActionBar_ActionBar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ActionBar/ActionBar */ "./src/ActionBar/ActionBar.tsx");
/* harmony import */ var _EdgeVertex__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./EdgeVertex */ "./src/PolygonDraw/EdgeVertex.tsx");
/* harmony import */ var _PolygonVertex__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./PolygonVertex */ "./src/PolygonDraw/PolygonVertex.tsx");
/* harmony import */ var _BoundaryPolygon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BoundaryPolygon */ "./src/PolygonDraw/BoundaryPolygon.tsx");
/* harmony import */ var _Polygon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Polygon */ "./src/PolygonDraw/Polygon.tsx");
/* harmony import */ var _MapInner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./MapInner */ "./src/PolygonDraw/MapInner.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");








//import { TileLayer } from '../leaflet/TileLayer';











class BaseMap extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {
  map = null;
  state = {
    isMovedPointInBoundary: true,
    isShiftPressed: false,
    isMoveActive: false,
    rectangleSelection: null,
    previousMouseMovePosition: undefined,
    isPenToolActive: false,
    isDrawToolActive: false,
    newPointPosition: null,
    showExportPolygonModal: false,
    showImportPolygonModal: false
  };
  static getDerivedStateFromProps(props, state) {
    return {
      ...state,
      isPenToolActive: props.polygonCoordinates.length === 0 ? true : state.isPenToolActive
    };
  }
  componentDidMount() {
    this.reframe();
    this.toggleVectorMode();
    const container = this.map?.getContainer();
    if (container) {
      container.addEventListener('keydown', this.handleKeyDown, false);
      container.addEventListener('keyup', this.handleKeyUp);
    }
  }
  componentWillUnmount() {
    const container = this.map?.getContainer();
    if (container) {
      container.removeEventListener('keydown', this.handleKeyDown, false);
      container.removeEventListener('keyup', this.handleKeyUp);
    }
  }
  getSnapshotBeforeUpdate(prevProps, prevState) {
    const reframe =
    // Reframe when the polygon loads for the first time
    prevProps.polygonCoordinates[prevProps.activePolygonIndex].length === 0 && this.props.polygonCoordinates[this.props.activePolygonIndex].length > 1 ||
    // Reframe when the boundary polygon loads for the first time
    prevProps.boundaryPolygonCoordinates !== this.props.boundaryPolygonCoordinates;
    const size = this.getSize(this.map);
    return {
      reframe,
      size
    };
  }
  componentDidUpdate(prevProps, prevState, {
    reframe,
    size
  }) {
    if (reframe) {
      this.reframe();
    }
    if (this.map && this.getSize(this.map) !== size) {
      this.map.invalidateSize();
    }
  }
  setMap = map => {
    if (map) {
      this.map = map;
      this.reframe();
      this.toggleVectorMode();
      const container = map?.getContainer();
      if (container) {
        container?.addEventListener('keydown', this.handleKeyDown, false);
        container?.addEventListener('keyup', this.handleKeyUp);
      }
    }
  };
  reframe = () => {
    const {
      polygonCoordinates,
      boundaryPolygonCoordinates,
      initialCenter,
      initialZoom
    } = this.props;
    if (polygonCoordinates[this.props.activePolygonIndex].length > 1) {
      this.reframeOnPolygon(polygonCoordinates);
    } else if (boundaryPolygonCoordinates.length > 0 && boundaryPolygonCoordinates !== _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.WORLD_COORDINATES) {
      this.reframeOnPolygon(boundaryPolygonCoordinates);
    } else if (this.map) {
      this.map.setView(initialCenter, initialZoom);
    }
  };
  reframeOnPolygon = polygonCoordinates => {
    if (this.map && polygonCoordinates.length > 0) {
      const bounds = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngBoundsFromCoordinates)(lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default()(polygonCoordinates));
      this.map.fitBounds(bounds);
    }
  };
  toggleVectorMode = () => {
    if (!this.props.editable) {
      return;
    }
    this.setState({
      isPenToolActive: !this.state.isPenToolActive,
      newPointPosition: null
    });
  };
  toggleDrawMode = () => {
    if (!this.props.drawable) {
      return;
    }
    this.setState({
      isPenToolActive: !this.state.isPenToolActive,
      newPointPosition: null
    });
  };
  getSize = map => {
    const container = map?.getContainer();
    return container ? `${container.clientHeight}x${container.clientWidth}` : '';
  };
  handleOnFocusClicked = () => {
    const activePolygon = this.props.polygonCoordinates[this.props.activePolygonIndex];
    if (activePolygon) {
      this.reframeOnPolygon(activePolygon);
    } else {
      this.reframe();
    }
  };

  ///////////////////////////////////////////////////////////////////////////
  //                          Export / Import methods                      //
  ///////////////////////////////////////////////////////////////////////////

  handleExportPolygon = serialized => {
    navigator.clipboard.writeText(serialized);
  };
  handleExportPolygonActionClicked = () => {
    this.setState({
      showExportPolygonModal: true
    });
  };
  handleExportPolygonModalClosed = () => {
    this.setState({
      showExportPolygonModal: false
    });
  };
  handleImportPolygon = coordinates => {
    this.props.setPolygon(coordinates);
    this.reframeOnPolygon(coordinates);
  };
  handleImportPolygonActionClicked = () => {
    this.setState({
      showImportPolygonModal: true
    });
  };
  handleImportPolygonModalClosed = () => {
    this.setState({
      showImportPolygonModal: false
    });
  };

  ///////////////////////////////////////////////////////////////////////////
  //                          Map Events methods                           //
  ///////////////////////////////////////////////////////////////////////////

  handleMapClick = event => {
    const coordinate = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(event.latlng);
    if (this.state.isPenToolActive && !this.props.isPolygonClosed && (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isCoordinateInPolygon)(coordinate, this.props.boundaryPolygonCoordinates)) {
      this.props.addPoint(coordinate);
    } else if (!this.state.isShiftPressed) {
      this.props.deselectAllPoints();
    }
  };
  handleMouseDownOnMap = event => {
    const coordinate = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(event.latlng);
    if (this.state.isShiftPressed) {
      this.setState({
        rectangleSelection: {
          startPosition: coordinate,
          endPosition: coordinate,
          startTime: new Date().getTime()
        }
      });
    }
  };
  handleMouseUpOnMap = () => {
    if (this.state.rectangleSelection) {
      this.setState({
        rectangleSelection: null
      });
    }
  };
  handleMouseMoveOnMap = event => {
    const mouseCoordinate = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(event.latlng);
    if (this.state.rectangleSelection && new Date().getTime() - this.state.rectangleSelection?.startTime >= 100) {
      const start = this.state.rectangleSelection.startPosition;
      if (start) {
        const bounds = (0,leaflet__WEBPACK_IMPORTED_MODULE_1__.latLngBounds)((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(start), event.latlng);
        const activePolygon = this.props.polygonCoordinates[this.props.activePolygonIndex];
        if (activePolygon) {
          const pointsInsideBounds = [];
          activePolygon.forEach((point, index) => {
            if (bounds.contains((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(point))) {
              pointsInsideBounds.push(index);
            }
          });
          this.props.selectPoints(pointsInsideBounds);
        }
      }
      this.setState({
        rectangleSelection: {
          ...this.state.rectangleSelection,
          endPosition: mouseCoordinate
        }
      });
    } else {
      const newPointPosition = this.state.isPenToolActive && !this.props.isPolygonClosed && (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isCoordinateInPolygon)(mouseCoordinate, this.props.boundaryPolygonCoordinates) ? mouseCoordinate : null;
      this.setState({
        newPointPosition
      });
    }
  };
  handleMouseOutOfMap = () => this.setState({
    newPointPosition: null,
    rectangleSelection: null
  });

  ///////////////////////////////////////////////////////////////////////////
  //                           Vertex methods                              //
  ///////////////////////////////////////////////////////////////////////////

  onPolygonVertexClick = index => {
    if (index === 0 && this.props.polygonCoordinates[this.props.activePolygonIndex].length > 2 && !this.props.isPolygonClosed) {
      // Close polygon when user clicks the first point
      this.props.addPoint({
        ...this.props.polygonCoordinates[this.props.activePolygonIndex][0]
      });
    } else if (this.state.isShiftPressed) {
      if (this.props.selection.has(index)) {
        this.props.removePointFromSelection(index);
      } else {
        this.props.addPointsToSelection([index]);
      }
    } else {
      this.props.selectPoints([index]);
    }
  };
  startVertexMove = latLng => {
    if (!this.state.isMoveActive) {
      this.setState({
        isMoveActive: true,
        previousMouseMovePosition: (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(latLng)
      });
    }
  };
  onPolygonVertexDragStart = (latLng, index) => {
    if (!this.props.selection.has(index)) {
      if (this.state.isShiftPressed) {
        this.props.addPointsToSelection([index]);
      } else {
        this.props.selectPoints([index]);
      }
    }
    this.startVertexMove(latLng);
  };
  updateVertexPosition = latLng => {
    if (this.state.isMoveActive && this.state.previousMouseMovePosition) {
      const coordinate = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(latLng);
      const moveVector = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.subtractCoordinates)(coordinate, this.state.previousMouseMovePosition);
      const nextCoordinates = Array.from(this.props.selection).map(i => this.props.polygonCoordinates[this.props.activePolygonIndex][i]).map(coord => (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.addCoordinates)(coord, moveVector));
      const inBoundary = nextCoordinates.every(nextCoordinate => (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isCoordinateInPolygon)(nextCoordinate, this.props.boundaryPolygonCoordinates));
      if (inBoundary) {
        this.props.moveSelectedPoints(moveVector);
        this.setState({
          previousMouseMovePosition: coordinate,
          isMovedPointInBoundary: true
        });
      } else {
        this.setState({
          isMovedPointInBoundary: false
        });
      }
    }
  };
  endVertexMove = () => {
    if (this.state.isMoveActive) {
      this.setState({
        isMoveActive: false,
        previousMouseMovePosition: undefined,
        isMovedPointInBoundary: true
      });
    }
  };

  ///////////////////////////////////////////////////////////////////////////
  //                      Keyboard handling methods                        //
  ///////////////////////////////////////////////////////////////////////////

  handleKeyDown = e => {
    e.preventDefault();
    switch (e.key) {
      case 'Escape':
        this.props.deselectAllPoints();
        break;
      case 'Backspace':
        this.props.deletePolygonPoints();
        break;
      case 'Shift':
        this.setState({
          isShiftPressed: true
        });
        break;
      case 'p':
        this.toggleVectorMode();
        break;
      case 'd':
        if (this.props.editable) {
          this.props.deselectAllPoints();
        }
        break;
      case 'a':
        if (this.props.editable) {
          this.props.selectAllPoints();
        }
        break;
      case 'f':
        this.reframe();
        break;
      case 'z':
        if (e.metaKey && e.shiftKey) {
          this.props.onRedo();
        } else if (e.metaKey) {
          this.props.onUndo();
        }
        break;
    }
  };
  handleKeyUp = e => {
    switch (e.key) {
      case 'Shift':
        this.setState({
          isShiftPressed: false
        });
        break;
    }
  };

  ///////////////////////////////////////////////////////////////////////////
  //                           Render methods                              //
  ///////////////////////////////////////////////////////////////////////////

  renderPolygonVertex = (coordinate, index) => {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_PolygonVertex__WEBPACK_IMPORTED_MODULE_11__.PolygonVertex, {
      coordinate: coordinate,
      isSelected: this.props.selection.has(index),
      index: index,
      onClick: this.onPolygonVertexClick,
      onDragStart: this.onPolygonVertexDragStart,
      onDrag: this.updateVertexPosition,
      onDragEnd: this.endVertexMove
    }, index);
  };
  renderActivePolygonPoints = () => {
    return this.props.polygonCoordinates[this.props.activePolygonIndex].map(this.renderPolygonVertex);
  };
  renderVertexEdge = (coordinate, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_EdgeVertex__WEBPACK_IMPORTED_MODULE_10__.EdgeVertex, {
    index: index,
    coordinate: coordinate,
    onClick: this.props.addPointToEdge
  }, index);
  renderPolygonEdges = () => {
    return (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.getPolygonEdges)(this.props.polygonCoordinates[this.props.activePolygonIndex]).map(this.renderVertexEdge);
  };
  renderInactivePolygons = () => {
    const activePolygonIsClosed = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isPolygonClosed)(this.props.polygonCoordinates[this.props.activePolygonIndex]);
    return this.props.polygonCoordinates.map((coordinates, index) => {
      const eventHandler = {
        onClick: () => this.props.onClick && this.props.onClick(index),
        onMouseEnter: () => this.props.onMouseEnter && this.props.onMouseEnter(index),
        onMouseLeave: () => this.props.onMouseLeave && this.props.onMouseLeave(index)
      };
      return index === this.props.activePolygonIndex ? null : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_Polygon__WEBPACK_IMPORTED_MODULE_13__.Polygon, {
        coordinates: coordinates,
        isActive: false,
        isHighlighted: index === this.props.highlightedPolygonIndex,
        ...(activePolygonIsClosed ? eventHandler : {})
      }, `${index}-${coordinates.reduce((acc, cur) => acc + cur.latitude + cur.longitude, 0)}`);
    });
  };
  renderActivePolygon = () => {
    const coordinates = this.props.polygonCoordinates[this.props.activePolygonIndex];
    const index = this.props.activePolygonIndex;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_Polygon__WEBPACK_IMPORTED_MODULE_13__.Polygon, {
      coordinates: coordinates,
      isActive: true,
      isHighlighted: false,
      onClick: () => this.props.onClick && this.props.onClick(index),
      onMouseEnter: () => this.props.onMouseEnter && this.props.onMouseEnter(index),
      onMouseLeave: () => this.props.onMouseLeave && this.props.onMouseLeave(index)
    });
  };
  renderPolyline = () => {
    const {
      newPointPosition
    } = this.state;
    const polygon = this.props.polygonCoordinates[this.props.activePolygonIndex].map(_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate);
    if (polygon.length === 0) {
      return null;
    }
    const newPath = [polygon[polygon.length - 1]];
    if (newPointPosition) {
      newPath.push((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(newPointPosition));
    }
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_15__.Polyline, {
        positions: polygon,
        color: _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.POLYGON_ACTIVE_COLOR,
        interactive: false
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_15__.Polyline, {
        positions: newPath,
        color: _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.POLYGON_ACTIVE_COLOR,
        dashArray: "2 12",
        interactive: false
      })]
    });
  };
  renderSelectionRectangle = () => {
    if (this.state.rectangleSelection) {
      const bounds = (0,leaflet__WEBPACK_IMPORTED_MODULE_1__.latLngBounds)((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(this.state.rectangleSelection.startPosition), (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(this.state.rectangleSelection.endPosition));
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.Rectangle, {
        color: _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.RECTANGLE_SELECTION_COLOR,
        fillColor: _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.RECTANGLE_SELECTION_COLOR,
        bounds: bounds
      });
    }
    return null;
  };
  render() {
    const {
      editable,
      drawable,
      selection,
      initialZoom,
      initialCenter
    } = this.props;
    const {
      newPointPosition,
      isPenToolActive,
      isDrawToolActive
    } = this.state;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(_leaflet_Map__WEBPACK_IMPORTED_MODULE_8__.Container, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(_leaflet_Map__WEBPACK_IMPORTED_MODULE_8__.Map, {
        fadeAnimation: true,
        trackResize: true,
        zoomControl: false,
        ref: this.setMap,
        center: initialCenter,
        zoom: initialZoom,
        zoomDelta: 2,
        zoomSnap: 1.5,
        boxZoom: false,
        drawCursor: !!newPointPosition,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_BoundaryPolygon__WEBPACK_IMPORTED_MODULE_12__.BoundaryPolygon, {
          coordinates: this.props.boundaryPolygonCoordinates,
          hasError: !this.state.isMovedPointInBoundary
        }), this.props.isPolygonClosed ? this.renderActivePolygon() : this.renderPolyline(), this.renderInactivePolygons(), editable && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.Pane, {
          name: "Polygon points",
          children: [this.renderActivePolygonPoints(), this.props.isPolygonClosed && isPenToolActive && this.renderPolygonEdges()]
        }), this.state.rectangleSelection && this.renderSelectionRectangle(), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_MapInner__WEBPACK_IMPORTED_MODULE_18__["default"], {
          onClick: this.handleMapClick,
          onMouseOut: this.handleMouseOutOfMap,
          onMouseMove: this.handleMouseMoveOnMap,
          onMouseDown: this.handleMouseDownOnMap,
          onMouseUp: this.handleMouseUpOnMap
        })]
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_ActionBar_ActionBar__WEBPACK_IMPORTED_MODULE_9__.ActionBar, {
        editable: editable,
        drawable: drawable,
        isVectorModeEnabled: isPenToolActive,
        isDrawModeEnabled: isDrawToolActive,
        onDelete: this.props.deletePolygonPoints,
        onFocus: this.handleOnFocusClicked,
        onEnableDrawMode: this.toggleDrawMode,
        onEnableVectorMode: this.toggleVectorMode,
        deleteInactive: selection.size === 0,
        onExport: this.handleExportPolygonActionClicked,
        onImport: this.handleImportPolygonActionClicked
      }), this.state.showExportPolygonModal && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_common_components_Modal__WEBPACK_IMPORTED_MODULE_4__.Modal, {
        onClose: this.handleExportPolygonModalClosed,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_conversion_ExportPolygonForm__WEBPACK_IMPORTED_MODULE_5__.ExportPolygonForm, {
          polygon: this.props.polygonCoordinates[this.props.activePolygonIndex],
          onSubmit: this.handleExportPolygon
        })
      }), this.state.showImportPolygonModal && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_common_components_Modal__WEBPACK_IMPORTED_MODULE_4__.Modal, {
        onClose: this.handleImportPolygonModalClosed,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_conversion_ImportPolygonForm__WEBPACK_IMPORTED_MODULE_6__.ImportPolygonForm, {
          onSubmit: this.handleImportPolygon
        })
      })]
    });
  }
}
BaseMap.displayName = "BaseMap";
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(BaseMap));
try {
    // @ts-ignore
    BaseMap.displayName = "BaseMap";
    // @ts-ignore
    BaseMap.__docgenInfo = { "description": "", "displayName": "BaseMap", "props": { "activePolygonIndex": { "defaultValue": null, "description": "activePolygonIndex is the index of the polygon that is currently available for editing", "name": "activePolygonIndex", "required": true, "type": { "name": "number" } }, "highlightedPolygonIndex": { "defaultValue": null, "description": "", "name": "highlightedPolygonIndex", "required": false, "type": { "name": "number" } }, "polygonCoordinates": { "defaultValue": null, "description": "", "name": "polygonCoordinates", "required": true, "type": { "name": "Coordinate[][]" } }, "boundaryPolygonCoordinates": { "defaultValue": null, "description": "", "name": "boundaryPolygonCoordinates", "required": true, "type": { "name": "Coordinate[]" } }, "selection": { "defaultValue": null, "description": "", "name": "selection", "required": true, "type": { "name": "Set<number>" } }, "editable": { "defaultValue": null, "description": "", "name": "editable", "required": true, "type": { "name": "boolean" } }, "drawable": { "defaultValue": null, "description": "", "name": "drawable", "required": true, "type": { "name": "boolean" } }, "initialCenter": { "defaultValue": null, "description": "", "name": "initialCenter", "required": true, "type": { "name": "LatLngTuple" } }, "initialZoom": { "defaultValue": null, "description": "", "name": "initialZoom", "required": true, "type": { "name": "number" } }, "isPolygonClosed": { "defaultValue": null, "description": "", "name": "isPolygonClosed", "required": true, "type": { "name": "boolean" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": false, "type": { "name": "((index: number) => void)" } }, "onMouseEnter": { "defaultValue": null, "description": "", "name": "onMouseEnter", "required": false, "type": { "name": "((index: number) => void)" } }, "onMouseLeave": { "defaultValue": null, "description": "", "name": "onMouseLeave", "required": false, "type": { "name": "((index: number) => void)" } }, "addPoint": { "defaultValue": null, "description": "", "name": "addPoint", "required": true, "type": { "name": "(coord: Coordinate) => void" } }, "addPointToEdge": { "defaultValue": null, "description": "", "name": "addPointToEdge", "required": true, "type": { "name": "(coordinate: Coordinate, index: number) => void" } }, "deselectAllPoints": { "defaultValue": null, "description": "", "name": "deselectAllPoints", "required": true, "type": { "name": "() => void" } }, "removePointFromSelection": { "defaultValue": null, "description": "", "name": "removePointFromSelection", "required": true, "type": { "name": "(index: number) => void" } }, "addPointsToSelection": { "defaultValue": null, "description": "", "name": "addPointsToSelection", "required": true, "type": { "name": "(indices: number[]) => void" } }, "selectPoints": { "defaultValue": null, "description": "", "name": "selectPoints", "required": true, "type": { "name": "(indices: number[]) => void" } }, "moveSelectedPoints": { "defaultValue": null, "description": "", "name": "moveSelectedPoints", "required": true, "type": { "name": "(newPosition: Coordinate) => void" } }, "deletePolygonPoints": { "defaultValue": null, "description": "", "name": "deletePolygonPoints", "required": true, "type": { "name": "() => void" } }, "selectAllPoints": { "defaultValue": null, "description": "", "name": "selectAllPoints", "required": true, "type": { "name": "() => void" } }, "setPolygon": { "defaultValue": null, "description": "", "name": "setPolygon", "required": true, "type": { "name": "(polygon: Coordinate[]) => void" } }, "onUndo": { "defaultValue": null, "description": "", "name": "onUndo", "required": true, "type": { "name": "() => void" } }, "onRedo": { "defaultValue": null, "description": "", "name": "onRedo", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/Map.tsx#BaseMap"] = { docgenInfo: BaseMap.__docgenInfo, name: "BaseMap", path: "src/PolygonDraw/Map.tsx#BaseMap" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/Polygon.tsx":
/*!*************************************!*\
  !*** ./src/PolygonDraw/Polygon.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Polygon: () => (/* binding */ Polygon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Polygon.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





// refers to https://leafletjs.com/reference-1.6.0.html#path-dasharray and
// https://developer.mozilla.org/de/docs/Web/SVG/Attribute/stroke-dasharray
// 4 describes the dash size, 12 the gap size

const DASH_STROKE_SIZE = '1 4';
const Polygon = ({
  isActive,
  isHighlighted,
  coordinates,
  onClick,
  onMouseEnter,
  onMouseLeave
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_4__.Polygon, {
  positions: coordinates.map(_helpers__WEBPACK_IMPORTED_MODULE_1__.createLeafletLatLngFromCoordinate),
  dashArray: isActive ? '' : DASH_STROKE_SIZE,
  fillColor: isActive || isHighlighted ? _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_ACTIVE_COLOR : _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_INACTIVE_COLOR,
  weight: _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.BORDER_WIDTH,
  color: isActive ? _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_ACTIVE_COLOR : _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_INACTIVE_COLOR,
  "data-testid": "polygon",
  eventHandlers: {
    click: onClick,
    mouseover: onMouseEnter,
    mouseout: onMouseLeave
  }
});
Polygon.displayName = "Polygon";
try {
    // @ts-ignore
    Polygon.displayName = "Polygon";
    // @ts-ignore
    Polygon.__docgenInfo = { "description": "", "displayName": "Polygon", "props": { "coordinates": { "defaultValue": null, "description": "", "name": "coordinates", "required": true, "type": { "name": "Coordinate[]" } }, "isActive": { "defaultValue": null, "description": "", "name": "isActive", "required": true, "type": { "name": "boolean" } }, "isHighlighted": { "defaultValue": null, "description": "", "name": "isHighlighted", "required": true, "type": { "name": "boolean" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": false, "type": { "name": "(() => void)" } }, "onMouseEnter": { "defaultValue": null, "description": "", "name": "onMouseEnter", "required": false, "type": { "name": "(() => void)" } }, "onMouseLeave": { "defaultValue": null, "description": "", "name": "onMouseLeave", "required": false, "type": { "name": "(() => void)" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/Polygon.tsx#Polygon"] = { docgenInfo: Polygon.__docgenInfo, name: "Polygon", path: "src/PolygonDraw/Polygon.tsx#Polygon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/PolygonDraw.tsx":
/*!*****************************************!*\
  !*** ./src/PolygonDraw/PolygonDraw.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PolygonDraw: () => (/* binding */ PolygonDraw)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var _Map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Map */ "./src/PolygonDraw/Map.tsx");
/* harmony import */ var _usePolygonEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./usePolygonEditor */ "./src/PolygonDraw/usePolygonEditor.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");






function PolygonDraw({
  polygon,
  activeIndex = 0,
  highlightedIndex,
  boundary,
  initialCenter,
  initialZoom,
  editable = true,
  drawable = true,
  onChange,
  onClick,
  onMouseEnter,
  onMouseLeave
}) {
  const {
    polygons,
    selection,
    addPoint,
    addPointToEdge,
    setPolygon,
    deselectAllPoints,
    removePointFromSelection,
    addPointsToSelection,
    selectPoints,
    moveSelectedPoints,
    deletePolygonPoints,
    selectAllPoints,
    isPolygonClosed,
    undo,
    redo
  } = (0,_usePolygonEditor__WEBPACK_IMPORTED_MODULE_4__.usePolygonEditor)(onChange, polygon, activeIndex);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Map__WEBPACK_IMPORTED_MODULE_3__["default"], {
    selection: selection,
    editable: editable,
    drawable: drawable,
    initialCenter: initialCenter ? (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.createLeafletLatLngTupleFromCoordinate)(initialCenter) : _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.DEFAULT_CENTER,
    initialZoom: initialZoom || _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.DEFAULT_ZOOM,
    boundaryPolygonCoordinates: boundary || _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.WORLD_COORDINATES,
    activePolygonIndex: activeIndex,
    highlightedPolygonIndex: highlightedIndex,
    polygonCoordinates: polygons,
    setPolygon: setPolygon,
    addPoint: addPoint,
    addPointToEdge: addPointToEdge,
    deselectAllPoints: deselectAllPoints,
    removePointFromSelection: removePointFromSelection,
    addPointsToSelection: addPointsToSelection,
    selectPoints: selectPoints,
    moveSelectedPoints: moveSelectedPoints,
    deletePolygonPoints: deletePolygonPoints,
    selectAllPoints: selectAllPoints,
    isPolygonClosed: isPolygonClosed,
    onClick: onClick,
    onMouseEnter: onMouseEnter,
    onMouseLeave: onMouseLeave,
    onUndo: undo,
    onRedo: redo
  });
}
PolygonDraw.displayName = "PolygonDraw";
try {
    // @ts-ignore
    PolygonDraw.displayName = "PolygonDraw";
    // @ts-ignore
    PolygonDraw.__docgenInfo = { "description": "", "displayName": "PolygonDraw", "props": { "boundary": { "defaultValue": null, "description": "", "name": "boundary", "required": false, "type": { "name": "Coordinate[]" } }, "initialCenter": { "defaultValue": null, "description": "", "name": "initialCenter", "required": false, "type": { "name": "Coordinate" } }, "initialZoom": { "defaultValue": null, "description": "", "name": "initialZoom", "required": false, "type": { "name": "number" } }, "editable": { "defaultValue": { value: "true" }, "description": "", "name": "editable", "required": false, "type": { "name": "boolean" } }, "drawable": { "defaultValue": { value: "true" }, "description": "", "name": "drawable", "required": false, "type": { "name": "boolean" } }, "onChange": { "defaultValue": null, "description": "", "name": "onChange", "required": false, "type": { "name": "((polygon: T, isValid: boolean) => void)" } }, "polygon": { "defaultValue": null, "description": "", "name": "polygon", "required": true, "type": { "name": "Coordinate[] | Coordinate[][]" } }, "activeIndex": { "defaultValue": { value: "0" }, "description": "", "name": "activeIndex", "required": false, "type": { "name": "number" } }, "highlightedIndex": { "defaultValue": null, "description": "", "name": "highlightedIndex", "required": false, "type": { "name": "number" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": false, "type": { "name": "((index: number) => void)" } }, "onMouseEnter": { "defaultValue": null, "description": "", "name": "onMouseEnter", "required": false, "type": { "name": "((index: number) => void)" } }, "onMouseLeave": { "defaultValue": null, "description": "", "name": "onMouseLeave", "required": false, "type": { "name": "((index: number) => void)" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/PolygonDraw.tsx#PolygonDraw"] = { docgenInfo: PolygonDraw.__docgenInfo, name: "PolygonDraw", path: "src/PolygonDraw/PolygonDraw.tsx#PolygonDraw" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/PolygonVertex.tsx":
/*!*******************************************!*\
  !*** ./src/PolygonDraw/PolygonVertex.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PolygonVertex: () => (/* binding */ PolygonVertex)
/* harmony export */ });
/* harmony import */ var leaflet_path_drag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! leaflet-path-drag */ "./node_modules/leaflet-path-drag/index.js");
/* harmony import */ var leaflet_path_drag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(leaflet_path_drag__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/CircleMarker.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");







class PolygonVertex extends (react__WEBPACK_IMPORTED_MODULE_1___default().Component) {
  state = {
    isHovered: false,
    isDragged: false,
    latLng: new leaflet__WEBPACK_IMPORTED_MODULE_2__.LatLng(0, 0)
  };
  static getDerivedStateFromProps = (props, state) => {
    return state.isDragged ? state : {
      ...state,
      latLng: (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(props.coordinate)
    };
  };
  componentDidMount() {
    if (this.circleMarkerElement) {
      this.circleMarkerElement.on('dragstart', this.handleDragStart);
      this.circleMarkerElement.on('drag', this.handleDrag);
      this.circleMarkerElement.on('dragend', this.handleDragEnd);
    }
  }
  componentWillUnmount() {
    if (this.circleMarkerElement) {
      this.circleMarkerElement.off('dragstart', this.handleDragStart);
      this.circleMarkerElement.off('drag', this.handleDrag);
      this.circleMarkerElement.off('dragend', this.handleDragEnd);
    }
  }

  // tslint:disable-next-line
  setCircleMarkerRef = ref => {
    if (ref) {
      this.circleMarkerElement = ref;
    }
  };
  handleClick = () => this.props.onClick(this.props.index);
  handleMouseOver = () => this.setState({
    isHovered: true
  });
  handleMouseOut = () => this.setState({
    isHovered: false
  });
  handleDragStart = event => {
    this.props.onDragStart(event.target.getLatLng(), this.props.index);
    this.setState({
      isDragged: true
    });
  };
  handleDrag = event => {
    if (this.state.isDragged) {
      this.props.onDrag(event.target.getLatLng());
    }
  };
  handleDragEnd = () => {
    this.props.onDragEnd();
    this.setState({
      isDragged: false
    });
  };
  render() {
    const {
      isSelected
    } = this.props;
    const {
      isHovered,
      latLng
    } = this.state;
    const selectedOrHovered = isSelected || isHovered;
    const hoveredAndNotSelected = isHovered && !isSelected;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_6__.CircleMarker, {
      "aria-label": "Polygon",
      ref: this.setCircleMarkerRef,
      fillColor: _constants__WEBPACK_IMPORTED_MODULE_4__.MAP.VERTEX_FILL_COLOR,
      fillOpacity: 1,
      color: _constants__WEBPACK_IMPORTED_MODULE_4__.MAP.POLYGON_ACTIVE_COLOR,
      opacity: hoveredAndNotSelected ? 0.6 : 1,
      weight: selectedOrHovered ? 4 : 1,
      radius: selectedOrHovered ? 6 : 4,
      center: latLng,
      eventHandlers: {
        click: this.handleClick,
        mouseover: this.handleMouseOver,
        mouseout: this.handleMouseOut
      },
      bubblingMouseEvents: false
      // @ts-ignore
      ,
      draggable: true
    });
  }
}
PolygonVertex.displayName = "PolygonVertex";
try {
    // @ts-ignore
    PolygonVertex.displayName = "PolygonVertex";
    // @ts-ignore
    PolygonVertex.__docgenInfo = { "description": "", "displayName": "PolygonVertex", "props": { "coordinate": { "defaultValue": null, "description": "", "name": "coordinate", "required": true, "type": { "name": "Coordinate" } }, "isSelected": { "defaultValue": null, "description": "", "name": "isSelected", "required": true, "type": { "name": "boolean" } }, "index": { "defaultValue": null, "description": "", "name": "index", "required": true, "type": { "name": "number" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "(index: number) => void" } }, "onDragStart": { "defaultValue": null, "description": "", "name": "onDragStart", "required": true, "type": { "name": "(latlng: LatLng, index: number) => void" } }, "onDrag": { "defaultValue": null, "description": "", "name": "onDrag", "required": true, "type": { "name": "(latlng: LatLng) => void" } }, "onDragEnd": { "defaultValue": null, "description": "", "name": "onDragEnd", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/PolygonVertex.tsx#PolygonVertex"] = { docgenInfo: PolygonVertex.__docgenInfo, name: "PolygonVertex", path: "src/PolygonDraw/PolygonVertex.tsx#PolygonVertex" };
}
catch (__react_docgen_typescript_loader_error) { }
try {
    // @ts-ignore
    getDerivedStateFromProps.displayName = "PolygonVertex.getDerivedStateFromProps";
    // @ts-ignore
    getDerivedStateFromProps.__docgenInfo = { "description": "", "displayName": "PolygonVertex.getDerivedStateFromProps", "props": { "coordinate": { "defaultValue": null, "description": "", "name": "coordinate", "required": true, "type": { "name": "Coordinate" } }, "isSelected": { "defaultValue": null, "description": "", "name": "isSelected", "required": true, "type": { "name": "boolean" } }, "index": { "defaultValue": null, "description": "", "name": "index", "required": true, "type": { "name": "number" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "(index: number) => void" } }, "onDragStart": { "defaultValue": null, "description": "", "name": "onDragStart", "required": true, "type": { "name": "(latlng: LatLng, index: number) => void" } }, "onDrag": { "defaultValue": null, "description": "", "name": "onDrag", "required": true, "type": { "name": "(latlng: LatLng) => void" } }, "onDragEnd": { "defaultValue": null, "description": "", "name": "onDragEnd", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/PolygonVertex.tsx#PolygonVertex.getDerivedStateFromProps"] = { docgenInfo: PolygonVertex.getDerivedStateFromProps.__docgenInfo, name: "PolygonVertex.getDerivedStateFromProps", path: "src/PolygonDraw/PolygonVertex.tsx#PolygonVertex.getDerivedStateFromProps" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ (() => {

throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/src/constants.ts: Unexpected token, expected \",\" (6:4)\n\n\u001b[0m \u001b[90m 4 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mLABELS\u001b[39m \u001b[33m=\u001b[39m {\u001b[0m\n\u001b[0m \u001b[90m 5 |\u001b[39m     \u001b[33mDRAW\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'Draw'\u001b[39m\u001b[0m\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 6 |\u001b[39m     \u001b[33mPEN\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'Pen'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m   |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 7 |\u001b[39m     \u001b[33mDELETE\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'Delete'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 8 |\u001b[39m     \u001b[33mFOCUS\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'Focus'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 9 |\u001b[39m     \u001b[33mEXPORT\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'Export'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n    at constructor (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:356:19)\n    at TypeScriptParserMixin.raise (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:3223:19)\n    at TypeScriptParserMixin.unexpected (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:3253:16)\n    at TypeScriptParserMixin.expect (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:3590:28)\n    at TypeScriptParserMixin.parseObjectLike (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:11655:14)\n    at TypeScriptParserMixin.parseExprAtom (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:11160:23)\n    at TypeScriptParserMixin.parseExprSubscripts (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10862:23)\n    at TypeScriptParserMixin.parseUpdate (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10845:21)\n    at TypeScriptParserMixin.parseMaybeUnary (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10821:23)\n    at TypeScriptParserMixin.parseMaybeUnary (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:9701:18)\n    at TypeScriptParserMixin.parseMaybeUnaryOrPrivate (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10659:61)\n    at TypeScriptParserMixin.parseExprOps (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10664:23)\n    at TypeScriptParserMixin.parseMaybeConditional (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10641:23)\n    at TypeScriptParserMixin.parseMaybeAssign (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10602:21)\n    at TypeScriptParserMixin.parseMaybeAssign (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:9648:20)\n    at /home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10572:39\n    at TypeScriptParserMixin.allowInAnd (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12284:16)\n    at TypeScriptParserMixin.parseMaybeAssignAllowIn (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:10572:17)\n    at TypeScriptParserMixin.parseVar (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:13264:91)\n    at TypeScriptParserMixin.parseVarStatement (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:13105:10)\n    at TypeScriptParserMixin.parseVarStatement (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:9311:31)\n    at TypeScriptParserMixin.parseStatementContent (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12688:23)\n    at TypeScriptParserMixin.parseStatementContent (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:9345:18)\n    at TypeScriptParserMixin.parseStatementLike (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12593:17)\n    at TypeScriptParserMixin.parseStatementListItem (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12573:17)\n    at TypeScriptParserMixin.parseExportDeclaration (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:13840:17)\n    at TypeScriptParserMixin.parseExportDeclaration (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:9492:85)\n    at TypeScriptParserMixin.maybeParseExportDeclaration (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:13795:31)\n    at TypeScriptParserMixin.parseExport (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:13718:29)\n    at TypeScriptParserMixin.parseExport (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:9288:20)\n    at TypeScriptParserMixin.parseStatementContent (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12720:27)\n    at TypeScriptParserMixin.parseStatementContent (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:9345:18)\n    at TypeScriptParserMixin.parseStatementLike (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12593:17)\n    at TypeScriptParserMixin.parseModuleItem (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12570:17)\n    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:13194:36)\n    at TypeScriptParserMixin.parseBlockBody (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:13187:10)\n    at TypeScriptParserMixin.parseProgram (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12469:10)\n    at TypeScriptParserMixin.parseTopLevel (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:12459:25)\n    at TypeScriptParserMixin.parse (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:14381:10)\n    at TypeScriptParserMixin.parse (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:9987:18)\n    at parse (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/parser/lib/index.js:14401:26)\n    at parser (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/core/lib/parser/index.js:41:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)\n    at normalizeFile.next (<anonymous>)\n    at run (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/core/lib/transformation/index.js:21:50)\n    at run.next (<anonymous>)\n    at transform (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/@babel/core/lib/transform.js:22:33)\n    at transform.next (<anonymous>)\n    at step (/home/kaliuser/Documents/portfolio/commercial_apps/polygon_editor/react-polygon-editor/node_modules/gensync/index.js:261:32)");

/***/ })

});
//# sourceMappingURL=PolygonDraw-stories.e8c3395a97fc744d116e.hot-update.js.map