(self["webpackChunk_freenow_react_polygon_editor"] = self["webpackChunk_freenow_react_polygon_editor"] || []).push([["PolygonDraw-stories"],{

/***/ "./stories/PolygonDraw.stories.tsx":
/*!*****************************************!*\
  !*** ./stories/PolygonDraw.stories.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Default: () => (/* binding */ Default),
/* harmony export */   MultiplePolygons: () => (/* binding */ MultiplePolygons),
/* harmony export */   New: () => (/* binding */ New),
/* harmony export */   NotEditable: () => (/* binding */ NotEditable),
/* harmony export */   WithBoundary: () => (/* binding */ WithBoundary),
/* harmony export */   __namedExportsOrder: () => (/* binding */ __namedExportsOrder),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @storybook/addon-actions */ "./node_modules/@storybook/addon-actions/dist/index.mjs");
/* harmony import */ var _src_PolygonDraw_PolygonDraw__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/PolygonDraw/PolygonDraw */ "./src/PolygonDraw/PolygonDraw.tsx");
/* harmony import */ var _polygons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./polygons */ "./stories/polygons.ts");
/* harmony import */ var _StateContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StateContainer */ "./stories/StateContainer.tsx");
/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! leaflet/dist/leaflet.css */ "./node_modules/leaflet/dist/leaflet.css");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");








const SAMPLES = [_polygons__WEBPACK_IMPORTED_MODULE_3__.POLYGON_ONE, _polygons__WEBPACK_IMPORTED_MODULE_3__.POLYGON_TWO, _polygons__WEBPACK_IMPORTED_MODULE_3__.POLYGON_THREE];
const polygonChangeAction = (0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)('polygon changed');
const polygonClickedAction = (0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)('polygon clicked');
const polygonMouseEnterAction = (0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)('polygon mouseenter');
const polygonMouseLeaveAction = (0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)('polygon mouseleave');
const meta = {
  title: 'PolygonDraw',
  decorators: [Story => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
    style: {
      height: '100vh',
      background: 'red'
    },
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(Story, {})
  })]
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (meta);
const Default = () => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_StateContainer__WEBPACK_IMPORTED_MODULE_4__.StateContainer, {
  initialState: {
    polygon: _polygons__WEBPACK_IMPORTED_MODULE_3__.POLYGON
  },
  children: (state, setState) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_PolygonDraw_PolygonDraw__WEBPACK_IMPORTED_MODULE_2__.PolygonDraw, {
      polygon: state.polygon,
      onChange: (polygon, isValid) => {
        setState({
          polygon: polygon
        });
        polygonChangeAction(polygon, isValid);
      }
    })
  })
});
Default.displayName = "Default";
const MultiplePolygons = () => {
  const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);
  const [highlightedIndex, setHighlightedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);
  const [polygons, setPolygons] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(SAMPLES);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_PolygonDraw_PolygonDraw__WEBPACK_IMPORTED_MODULE_2__.PolygonDraw, {
    polygon: polygons,
    activeIndex: activeIndex,
    highlightedIndex: highlightedIndex,
    onClick: setActiveIndex,
    onChange: newPolygons => setPolygons(newPolygons),
    onMouseEnter: index => setHighlightedIndex(index),
    onMouseLeave: index => setHighlightedIndex(oldIndex => oldIndex === index ? undefined : oldIndex)
  });
};
MultiplePolygons.displayName = "MultiplePolygons";
// export const AutomaticReplace = {
//     render: () => {
//         const [index, setIndex] = useState(0);

//         useEffect(() => {
//             const id = setInterval(() => {
//                 setIndex((oldIndex) => {
//                     return (oldIndex + 1) % SAMPLES.length;
//                 });
//             }, 1000);
//             return () => clearInterval(id);
//         }, []);

//         return (
//             <PolygonDraw
//                 polygon={SAMPLES[index]}
//                 activeIndex={0}
//                 editable={false}
//                 onClick={(i) => polygonClickedAction(i)}
//                 onChange={(i) => polygonChangeAction(i)}
//                 onMouseEnter={(i) => polygonMouseEnterAction(i)}
//                 onMouseLeave={(i) => polygonMouseLeaveAction(i)}
//             />
//         );
//     },

//     name: 'Automatic replace',
// };

const New = () => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_StateContainer__WEBPACK_IMPORTED_MODULE_4__.StateContainer, {
  initialState: {
    polygon: []
  },
  children: (state, setState) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_PolygonDraw_PolygonDraw__WEBPACK_IMPORTED_MODULE_2__.PolygonDraw, {
    polygon: state.polygon,
    onChange: (polygon, isValid) => {
      setState({
        polygon
      });
      polygonChangeAction(polygon, isValid);
    }
  })
});
New.displayName = "New";
const NotEditable = () => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_PolygonDraw_PolygonDraw__WEBPACK_IMPORTED_MODULE_2__.PolygonDraw, {
  editable: false,
  polygon: _polygons__WEBPACK_IMPORTED_MODULE_3__.POLYGON,
  boundary: _polygons__WEBPACK_IMPORTED_MODULE_3__.BOUNDARY
});
NotEditable.displayName = "NotEditable";
// export const Highlighted = () => (
//     <PolygonDraw editable={false} highlightedIndex={2} polygon={SAMPLES} boundary={BOUNDARY} />
// );

const WithBoundary = () => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_StateContainer__WEBPACK_IMPORTED_MODULE_4__.StateContainer, {
  initialState: {
    polygon: _polygons__WEBPACK_IMPORTED_MODULE_3__.POLYGON
  },
  children: (state, setState) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_PolygonDraw_PolygonDraw__WEBPACK_IMPORTED_MODULE_2__.PolygonDraw, {
    polygon: state.polygon,
    boundary: _polygons__WEBPACK_IMPORTED_MODULE_3__.BOUNDARY,
    onChange: (polygon, isValid) => {
      setState({
        polygon
      });
      polygonChangeAction(polygon, isValid);
    }
  })
});
WithBoundary.displayName = "WithBoundary";
// export const WithInitialCenter = {
//     render: () => (
//         <PolygonDraw editable={false} polygon={[]} initialCenter={{ longitude: 2.1734, latitude: 41.3851 }} />
//     ),

//     name: 'With initial center',
// };

// export const WithInitialZoom = {
//     render: () => <PolygonDraw editable={false} polygon={[]} initialZoom={6} />,
//     name: 'With initial zoom',
// };
Default.parameters = {
  ...Default.parameters,
  docs: {
    ...Default.parameters?.docs,
    source: {
      originalSource: "() => <StateContainer initialState={{\n  polygon: POLYGON\n}}>\n        {(state, setState) => <>\n                <PolygonDraw polygon={state.polygon} onChange={(polygon, isValid) => {\n      setState({\n        polygon: polygon\n      });\n      polygonChangeAction(polygon, isValid);\n    }} />\n            </>}\n    </StateContainer>",
      ...Default.parameters?.docs?.source
    }
  }
};
MultiplePolygons.parameters = {
  ...MultiplePolygons.parameters,
  docs: {
    ...MultiplePolygons.parameters?.docs,
    source: {
      originalSource: "() => {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [highlightedIndex, setHighlightedIndex] = useState<number | undefined>(undefined);\n  const [polygons, setPolygons] = useState(SAMPLES);\n  return <PolygonDraw polygon={polygons} activeIndex={activeIndex} highlightedIndex={highlightedIndex} onClick={setActiveIndex} onChange={newPolygons => setPolygons(newPolygons)} onMouseEnter={index => setHighlightedIndex(index)} onMouseLeave={index => setHighlightedIndex(oldIndex => oldIndex === index ? undefined : oldIndex)} />;\n}",
      ...MultiplePolygons.parameters?.docs?.source
    }
  }
};
New.parameters = {
  ...New.parameters,
  docs: {
    ...New.parameters?.docs,
    source: {
      originalSource: "() => <StateContainer initialState={{\n  polygon: ([] as Coordinate[])\n}}>\n        {(state, setState) => <PolygonDraw polygon={state.polygon} onChange={(polygon, isValid) => {\n    setState({\n      polygon\n    });\n    polygonChangeAction(polygon, isValid);\n  }} />}\n    </StateContainer>",
      ...New.parameters?.docs?.source
    }
  }
};
NotEditable.parameters = {
  ...NotEditable.parameters,
  docs: {
    ...NotEditable.parameters?.docs,
    source: {
      originalSource: "() => <PolygonDraw editable={false} polygon={POLYGON} boundary={BOUNDARY} />",
      ...NotEditable.parameters?.docs?.source
    }
  }
};
WithBoundary.parameters = {
  ...WithBoundary.parameters,
  docs: {
    ...WithBoundary.parameters?.docs,
    source: {
      originalSource: "() => <StateContainer initialState={{\n  polygon: POLYGON\n}}>\n        {(state, setState) => <PolygonDraw polygon={state.polygon} boundary={BOUNDARY} onChange={(polygon, isValid) => {\n    setState({\n      polygon\n    });\n    polygonChangeAction(polygon, isValid);\n  }} />}\n    </StateContainer>",
      ...WithBoundary.parameters?.docs?.source
    }
  }
};
const __namedExportsOrder = ["Default", "MultiplePolygons", "New", "NotEditable", "WithBoundary"];

/***/ }),

/***/ "./src/ActionBar/ActionBar.tsx":
/*!*************************************!*\
  !*** ./src/ActionBar/ActionBar.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionBar: () => (/* binding */ ActionBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var _ActionButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionButton */ "./src/ActionBar/ActionButton.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");








const Container = styled_components__WEBPACK_IMPORTED_MODULE_4__["default"].div`
    position: absolute;
    right: 0;
    bottom: 24px;
    display: flex;

    padding-right: 8px;
    padding-left: 8px;

    > * {
        margin-left: 8px;
    }
`;
const ActionBar = ({
  editable,
  drawable,
  deleteInactive,
  isVectorModeEnabled,
  onEnableVectorMode,
  onEnableDrawMode,
  isDrawModeEnabled,
  onAddVertex,
  onFocus,
  onDelete,
  onExport,
  onImport
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(Container, {
  children: [editable && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
      onClick: onEnableVectorMode,
      icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.VECTOR_MODE,
      inactive: !isVectorModeEnabled,
      "aria-label": `${isVectorModeEnabled ? 'Disable Editing' : 'Enable Editing'}`,
      children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.PEN
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
      onClick: onDelete,
      icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.TRASHCAN,
      activeIconColor: _common_colors__WEBPACK_IMPORTED_MODULE_5__.FREEDOM_RED_900,
      disabled: deleteInactive,
      inactive: deleteInactive,
      "aria-label": "Delete",
      children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.DELETE
    })]
  }), drawable && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
      onClick: onEnableDrawMode,
      icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.DRAW_MODE,
      inactive: !isDrawModeEnabled,
      "aria-label": `${isDrawModeEnabled ? 'Disable Drawing' : 'Enable Drawing'}`,
      children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.DRAW
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
      onClick: onDelete,
      icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.TRASHCAN,
      activeIconColor: _common_colors__WEBPACK_IMPORTED_MODULE_5__.FREEDOM_RED_900,
      disabled: deleteInactive,
      inactive: deleteInactive,
      "aria-label": "Delete",
      children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.DELETE
    })]
  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
    onClick: onAddVertex,
    icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.ADD_VERTEX,
    children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.ADD_VERTEX
  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
    onClick: onImport,
    icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.IMPORT,
    children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.IMPORT
  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
    onClick: onExport,
    icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.EXPORT,
    children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.EXPORT
  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {
    onClick: onFocus,
    icon: _ActionButton__WEBPACK_IMPORTED_MODULE_1__.ActionButtonIcons.FRAME,
    children: _constants__WEBPACK_IMPORTED_MODULE_2__.LABELS.FOCUS
  })]
});
ActionBar.displayName = "ActionBar";
try {
    // @ts-ignore
    ActionBar.displayName = "ActionBar";
    // @ts-ignore
    ActionBar.__docgenInfo = { "description": "", "displayName": "ActionBar", "props": { "editable": { "defaultValue": null, "description": "", "name": "editable", "required": true, "type": { "name": "boolean" } }, "drawable": { "defaultValue": null, "description": "", "name": "drawable", "required": true, "type": { "name": "boolean" } }, "onFocus": { "defaultValue": null, "description": "", "name": "onFocus", "required": true, "type": { "name": "() => void" } }, "onEnableVectorMode": { "defaultValue": null, "description": "", "name": "onEnableVectorMode", "required": true, "type": { "name": "() => void" } }, "isVectorModeEnabled": { "defaultValue": null, "description": "", "name": "isVectorModeEnabled", "required": true, "type": { "name": "boolean" } }, "onEnableDrawMode": { "defaultValue": null, "description": "", "name": "onEnableDrawMode", "required": true, "type": { "name": "() => void" } }, "isDrawModeEnabled": { "defaultValue": null, "description": "", "name": "isDrawModeEnabled", "required": true, "type": { "name": "boolean" } }, "onAddVertex": { "defaultValue": null, "description": "", "name": "onAddVertex", "required": true, "type": { "name": "() => void" } }, "onDelete": { "defaultValue": null, "description": "", "name": "onDelete", "required": true, "type": { "name": "() => void" } }, "deleteInactive": { "defaultValue": null, "description": "", "name": "deleteInactive", "required": true, "type": { "name": "boolean" } }, "onExport": { "defaultValue": null, "description": "", "name": "onExport", "required": true, "type": { "name": "() => void" } }, "onImport": { "defaultValue": null, "description": "", "name": "onImport", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/ActionBar.tsx#ActionBar"] = { docgenInfo: ActionBar.__docgenInfo, name: "ActionBar", path: "src/ActionBar/ActionBar.tsx#ActionBar" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/ActionButton.tsx":
/*!****************************************!*\
  !*** ./src/ActionBar/ActionButton.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionButton: () => (/* binding */ ActionButton),
/* harmony export */   ActionButtonIcons: () => (/* binding */ ActionButtonIcons)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var _Icons_Frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Icons/Frame */ "./src/ActionBar/Icons/Frame.tsx");
/* harmony import */ var _Icons_Trashbin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons/Trashbin */ "./src/ActionBar/Icons/Trashbin.tsx");
/* harmony import */ var _Icons_VectorMode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Icons/VectorMode */ "./src/ActionBar/Icons/VectorMode.tsx");
/* harmony import */ var _Icons_Export__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Icons/Export */ "./src/ActionBar/Icons/Export.tsx");
/* harmony import */ var _Icons_Import__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Icons/Import */ "./src/ActionBar/Icons/Import.tsx");
/* harmony import */ var _Icons_DrawMode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Icons/DrawMode */ "./src/ActionBar/Icons/DrawMode.tsx");
/* harmony import */ var _Icons_AddVertex__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Icons/AddVertex */ "./src/ActionBar/Icons/AddVertex.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");












let ActionButtonIcons = /*#__PURE__*/function (ActionButtonIcons) {
  ActionButtonIcons["TRASHCAN"] = "TRASHCAN";
  ActionButtonIcons["FRAME"] = "FRAME";
  ActionButtonIcons["VECTOR_MODE"] = "VECTOR_MODE";
  ActionButtonIcons["ADD_VERTEX"] = "ADD_VERTEX";
  ActionButtonIcons["DRAW_MODE"] = "DRAW_MODE";
  ActionButtonIcons["EXPORT"] = "EXPORT";
  ActionButtonIcons["IMPORT"] = "IMPORT";
  return ActionButtonIcons;
}({});
const Container = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__["default"])('div')`
    position: relative;
    width: 42px;
    height: 42px;

    padding-top: 6px;
    border-radius: 4px;

    text-align: center;
    font-size: 10px;
    font-weight: 600;
    color: ${_common_colors__WEBPACK_IMPORTED_MODULE_10__.AUTHENTIC_BLUE_900};
    background-color: ${_common_colors__WEBPACK_IMPORTED_MODULE_10__.WHITE};
    border: solid ${_common_colors__WEBPACK_IMPORTED_MODULE_10__.AUTHENTIC_BLUE_200} 1px;

    box-shadow: inherit;
    transition: 0.2s;

    user-select: none;
    cursor: ${({
  disabled
}) => disabled ? 'not-allowed' : 'pointer'};

    &:hover {
        transform: scale(1.005);
        box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.16);
        z-index: 1;
    }
`;
const renderIcon = (icon, inactive, activeIconColor = _common_colors__WEBPACK_IMPORTED_MODULE_10__.ACTION_BLUE_900) => {
  const props = {
    iconColor: inactive ? _common_colors__WEBPACK_IMPORTED_MODULE_10__.AUTHENTIC_BLUE_200 : activeIconColor,
    width: 16,
    height: 16
  };
  switch (icon) {
    case ActionButtonIcons.TRASHCAN:
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Icons_Trashbin__WEBPACK_IMPORTED_MODULE_2__.Trashbin, {
        ...props
      });
    case ActionButtonIcons.FRAME:
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Icons_Frame__WEBPACK_IMPORTED_MODULE_1__.Frame, {
        ...props
      });
    case ActionButtonIcons.VECTOR_MODE:
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Icons_VectorMode__WEBPACK_IMPORTED_MODULE_3__.VectorMode, {
        ...props
      });
    case ActionButtonIcons.ADD_VERTEX:
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Icons_AddVertex__WEBPACK_IMPORTED_MODULE_7__.AddVertex, {
        ...props
      });
    case ActionButtonIcons.DRAW_MODE:
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Icons_DrawMode__WEBPACK_IMPORTED_MODULE_6__.DrawMode, {
        ...props
      });
    case ActionButtonIcons.EXPORT:
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Icons_Export__WEBPACK_IMPORTED_MODULE_4__.Export, {
        ...props
      });
    case ActionButtonIcons.IMPORT:
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Icons_Import__WEBPACK_IMPORTED_MODULE_5__.Import, {
        ...props
      });
    default:
      return null;
  }
};
const ActionButton = ({
  icon,
  children,
  inactive,
  activeIconColor,
  ...props
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(Container, {
    ...props,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div", {
      children: renderIcon(icon, inactive, activeIconColor)
    }), children]
  });
};
ActionButton.displayName = "ActionButton";
try {
    // @ts-ignore
    ActionButton.displayName = "ActionButton";
    // @ts-ignore
    ActionButton.__docgenInfo = { "description": "", "displayName": "ActionButton", "props": { "icon": { "defaultValue": null, "description": "", "name": "icon", "required": true, "type": { "name": "enum", "value": [{ "value": "\"TRASHCAN\"" }, { "value": "\"FRAME\"" }, { "value": "\"VECTOR_MODE\"" }, { "value": "\"ADD_VERTEX\"" }, { "value": "\"DRAW_MODE\"" }, { "value": "\"EXPORT\"" }, { "value": "\"IMPORT\"" }] } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "() => void" } }, "inactive": { "defaultValue": null, "description": "", "name": "inactive", "required": false, "type": { "name": "boolean" } }, "disabled": { "defaultValue": null, "description": "", "name": "disabled", "required": false, "type": { "name": "boolean" } }, "activeIconColor": { "defaultValue": null, "description": "", "name": "activeIconColor", "required": false, "type": { "name": "string" } }, "className": { "defaultValue": null, "description": "", "name": "className", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/ActionButton.tsx#ActionButton"] = { docgenInfo: ActionButton.__docgenInfo, name: "ActionButton", path: "src/ActionBar/ActionButton.tsx#ActionButton" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/EdgeConstraintsBar.tsx":
/*!**********************************************!*\
  !*** ./src/ActionBar/EdgeConstraintsBar.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EdgeConstraintsBar: () => (/* binding */ EdgeConstraintsBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");




const Container = styled_components__WEBPACK_IMPORTED_MODULE_2__["default"].div`
    position: absolute;
    background-color: #fff;
    right: 0;
    top: 64px;  
    border-radius: 5px;
    padding-right: 8px;
    display: block;
    margin-right: 8px;
    padding-left: 8px;
    padding: 10px;
    > * {
        margin-left: 8px;
    }
`;
const RadioButtonLabel = styled_components__WEBPACK_IMPORTED_MODULE_2__["default"].label`
    display: flex;
    align-items: center;
    margin-right: 10px;

    input {
        margin-right: 10px;
    }
`;
const EdgeConstraintsBar = ({
  onSetHorizontal,
  onSetVertical
}) => {
  const [selectedEdge, setSelectedEdge] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
  const handleEdgeChange = e => {
    const edge = e.target.value;
    setSelectedEdge(edge);
    onSetHorizontal(edge === 'horizontal');
    onSetVertical(edge === 'vertical');
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(Container, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(RadioButtonLabel, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("input", {
        type: "radio",
        value: "horizontal",
        checked: selectedEdge === 'horizontal',
        onChange: handleEdgeChange,
        name: "edgeDirection"
      }), "Horizontal Edge"]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(RadioButtonLabel, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("input", {
        type: "radio",
        value: "vertical",
        checked: selectedEdge === 'vertical',
        onChange: handleEdgeChange,
        name: "edgeDirection"
      }), "Vertical Edge"]
    })]
  });
};
EdgeConstraintsBar.displayName = "EdgeConstraintsBar";
try {
    // @ts-ignore
    EdgeConstraintsBar.displayName = "EdgeConstraintsBar";
    // @ts-ignore
    EdgeConstraintsBar.__docgenInfo = { "description": "", "displayName": "EdgeConstraintsBar", "props": { "onSetHorizontal": { "defaultValue": null, "description": "", "name": "onSetHorizontal", "required": true, "type": { "name": "(value: boolean) => void" } }, "onSetVertical": { "defaultValue": null, "description": "", "name": "onSetVertical", "required": true, "type": { "name": "(value: boolean) => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/EdgeConstraintsBar.tsx#EdgeConstraintsBar"] = { docgenInfo: EdgeConstraintsBar.__docgenInfo, name: "EdgeConstraintsBar", path: "src/ActionBar/EdgeConstraintsBar.tsx#EdgeConstraintsBar" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/Icons/AddVertex.tsx":
/*!*******************************************!*\
  !*** ./src/ActionBar/Icons/AddVertex.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddVertex: () => (/* binding */ AddVertex)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const AddVertex = ({
  iconColor = _common_colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
  xmlns: "http://www.w3.org/2000/svg",
  fill: "none",
  viewBox: "0 0 24 24",
  "stroke-width": "1.5",
  stroke: "currentColor",
  width: 16,
  height: 16,
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    d: "M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"
  })
});
AddVertex.displayName = "AddVertex";
try {
    // @ts-ignore
    AddVertex.displayName = "AddVertex";
    // @ts-ignore
    AddVertex.__docgenInfo = { "description": "", "displayName": "AddVertex", "props": { "iconColor": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "iconColor", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/Icons/AddVertex.tsx#AddVertex"] = { docgenInfo: AddVertex.__docgenInfo, name: "AddVertex", path: "src/ActionBar/Icons/AddVertex.tsx#AddVertex" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/Icons/DrawMode.tsx":
/*!******************************************!*\
  !*** ./src/ActionBar/Icons/DrawMode.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawMode: () => (/* binding */ DrawMode)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const DrawMode = ({
  iconColor = _common_colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
  width: 24,
  height: 24,
  viewBox: "0 0 24 24",
  ...props,
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
    fill: iconColor,
    d: "M15 13.2v7.4l-14.3 3 3-14.3H11l3.9 3.9zm-9.4-1.6l-2 9 9-1.9v-7.1h-7zm13.8 3a3.5 3.5 0 0 1-5 0l-4.8-5a3.5 3.5 0 0 1 0-4.8l4-4.1 9.8 9.8-4 4zm-11.5 0a1.2 1.2 0 1 1 1.7 1.6 1.2 1.2 0 0 1-1.7-1.6z"
  })
});
DrawMode.displayName = "DrawMode";
try {
    // @ts-ignore
    DrawMode.displayName = "DrawMode";
    // @ts-ignore
    DrawMode.__docgenInfo = { "description": "", "displayName": "DrawMode", "props": { "iconColor": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "iconColor", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/Icons/DrawMode.tsx#DrawMode"] = { docgenInfo: DrawMode.__docgenInfo, name: "DrawMode", path: "src/ActionBar/Icons/DrawMode.tsx#DrawMode" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/Icons/Export.tsx":
/*!****************************************!*\
  !*** ./src/ActionBar/Icons/Export.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Export: () => (/* binding */ Export)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const Export = ({
  iconColor = _common_colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
  viewBox: "0 0 24 24",
  ...props,
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
    d: "M19 19v2H5v-2h14zM13 3v10.436l5-4.445v2.676L12 17l-6-5.333V8.991l5 4.445V3h2z",
    fill: iconColor,
    fillRule: "nonzero"
  })
});
Export.displayName = "Export";
try {
    // @ts-ignore
    Export.displayName = "Export";
    // @ts-ignore
    Export.__docgenInfo = { "description": "", "displayName": "Export", "props": { "iconColor": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "iconColor", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/Icons/Export.tsx#Export"] = { docgenInfo: Export.__docgenInfo, name: "Export", path: "src/ActionBar/Icons/Export.tsx#Export" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/Icons/Frame.tsx":
/*!***************************************!*\
  !*** ./src/ActionBar/Icons/Frame.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Frame: () => (/* binding */ Frame)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");


const Frame = ({
  iconColor,
  ...props
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
  width: 24,
  height: 24,
  viewBox: "0 0 24 24",
  ...props,
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
    fill: iconColor,
    d: "M0 8V4a4 4 0 0 1 4-4h4v2H4a2 2 0 0 0-2 2v4H0zm0 8h2v4c0 1.1.9 2 2 2h4v2H4a4 4 0 0 1-4-4v-4zm24-8h-2V4a2 2 0 0 0-2-2h-4V0h4a4 4 0 0 1 4 4v4zm0 8v4a4 4 0 0 1-4 4h-4v-2h4a2 2 0 0 0 2-2v-4h2z",
    fillRule: "nonzero"
  })
});
Frame.displayName = "Frame";
try {
    // @ts-ignore
    Frame.displayName = "Frame";
    // @ts-ignore
    Frame.__docgenInfo = { "description": "", "displayName": "Frame", "props": { "iconColor": { "defaultValue": null, "description": "", "name": "iconColor", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/Icons/Frame.tsx#Frame"] = { docgenInfo: Frame.__docgenInfo, name: "Frame", path: "src/ActionBar/Icons/Frame.tsx#Frame" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/Icons/Import.tsx":
/*!****************************************!*\
  !*** ./src/ActionBar/Icons/Import.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Import: () => (/* binding */ Import)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const Import = ({
  iconColor = _common_colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
  viewBox: "0 0 24 24",
  ...props,
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
    d: "M19 19v2H5v-2h14zM12 3l6 5.333v2.675l-5-4.444V17h-2V6.564l-5 4.445V8.334L12 3z",
    fill: iconColor,
    fillRule: "nonzero"
  })
});
Import.displayName = "Import";
try {
    // @ts-ignore
    Import.displayName = "Import";
    // @ts-ignore
    Import.__docgenInfo = { "description": "", "displayName": "Import", "props": { "iconColor": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "iconColor", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/Icons/Import.tsx#Import"] = { docgenInfo: Import.__docgenInfo, name: "Import", path: "src/ActionBar/Icons/Import.tsx#Import" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/Icons/Trashbin.tsx":
/*!******************************************!*\
  !*** ./src/ActionBar/Icons/Trashbin.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trashbin: () => (/* binding */ Trashbin)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const Trashbin = ({
  iconColor = _common_colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
  width: 24,
  height: 24,
  viewBox: "4 4 19 19",
  ...props,
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
    fill: iconColor,
    d: "M8.8 19.4c0 .9.6 1.6 1.4 1.6h6c.7 0 1.4-.7 1.4-1.6V10H8.8v9.4zm9.9-12.7h-2.8l-.8-1h-3.9l-.8 1H7.7V9h11V6.7z"
  })
});
Trashbin.displayName = "Trashbin";
try {
    // @ts-ignore
    Trashbin.displayName = "Trashbin";
    // @ts-ignore
    Trashbin.__docgenInfo = { "description": "", "displayName": "Trashbin", "props": { "iconColor": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "iconColor", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/Icons/Trashbin.tsx#Trashbin"] = { docgenInfo: Trashbin.__docgenInfo, name: "Trashbin", path: "src/ActionBar/Icons/Trashbin.tsx#Trashbin" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/ActionBar/Icons/VectorMode.tsx":
/*!********************************************!*\
  !*** ./src/ActionBar/Icons/VectorMode.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VectorMode: () => (/* binding */ VectorMode)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const VectorMode = ({
  iconColor = _common_colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
  width: 24,
  height: 24,
  viewBox: "0 0 24 24",
  ...props,
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
    fill: iconColor,
    d: "M15 13.2v7.4l-14.3 3 3-14.3H11l3.9 3.9zm-9.4-1.6l-2 9 9-1.9v-7.1h-7zm13.8 3a3.5 3.5 0 0 1-5 0l-4.8-5a3.5 3.5 0 0 1 0-4.8l4-4.1 9.8 9.8-4 4zm-11.5 0a1.2 1.2 0 1 1 1.7 1.6 1.2 1.2 0 0 1-1.7-1.6z"
  })
});
VectorMode.displayName = "VectorMode";
try {
    // @ts-ignore
    VectorMode.displayName = "VectorMode";
    // @ts-ignore
    VectorMode.__docgenInfo = { "description": "", "displayName": "VectorMode", "props": { "iconColor": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "iconColor", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/ActionBar/Icons/VectorMode.tsx#VectorMode"] = { docgenInfo: VectorMode.__docgenInfo, name: "VectorMode", path: "src/ActionBar/Icons/VectorMode.tsx#VectorMode" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/BoundaryPolygon.tsx":
/*!*********************************************!*\
  !*** ./src/PolygonDraw/BoundaryPolygon.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BoundaryPolygon: () => (/* binding */ BoundaryPolygon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Polygon.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





const BoundaryPolygon = ({
  coordinates,
  hasError
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_4__.Polygon, {
  positions: [_constants__WEBPACK_IMPORTED_MODULE_2__.MAP.WORLD_LAT_LNG_COORDINATES, coordinates.map(_helpers__WEBPACK_IMPORTED_MODULE_1__.createLeafletLatLngFromCoordinate)],
  fillColor: _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.BOUNDARY_COLOR,
  color: hasError ? _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.ERROR_BOUNDARY_COLOR : _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.BOUNDARY_COLOR,
  weight: hasError ? _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.BORDER_WIDTH : 0.4,
  interactive: false
});
BoundaryPolygon.displayName = "BoundaryPolygon";
try {
    // @ts-ignore
    BoundaryPolygon.displayName = "BoundaryPolygon";
    // @ts-ignore
    BoundaryPolygon.__docgenInfo = { "description": "", "displayName": "BoundaryPolygon", "props": { "coordinates": { "defaultValue": null, "description": "", "name": "coordinates", "required": true, "type": { "name": "Coordinate[]" } }, "hasError": { "defaultValue": null, "description": "", "name": "hasError", "required": true, "type": { "name": "boolean" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/BoundaryPolygon.tsx#BoundaryPolygon"] = { docgenInfo: BoundaryPolygon.__docgenInfo, name: "BoundaryPolygon", path: "src/PolygonDraw/BoundaryPolygon.tsx#BoundaryPolygon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/EdgeVertex.tsx":
/*!****************************************!*\
  !*** ./src/PolygonDraw/EdgeVertex.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EdgeVertex: () => (/* binding */ EdgeVertex)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/CircleMarker.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





class EdgeVertex extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {
  state = {
    isHoverActive: false
  };
  handleMouseOver = () => this.setState({
    isHoverActive: true
  });
  handleMouseOut = () => this.setState({
    isHoverActive: false
  });
  handleClick = () => this.props.onClick(this.props.coordinate, this.props.index);
  render() {
    const {
      isHoverActive
    } = this.state;
    const {
      coordinate
    } = this.props;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_4__.CircleMarker, {
      fillColor: _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.VERTEX_FILL_COLOR,
      fillOpacity: isHoverActive ? 1 : 0.8,
      color: _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_ACTIVE_COLOR,
      opacity: isHoverActive ? 1 : 0.8,
      weight: isHoverActive ? 2 : 0.5,
      radius: isHoverActive ? 6 : 3,
      center: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.createLeafletLatLngFromCoordinate)(coordinate),
      eventHandlers: {
        click: this.handleClick,
        mouseover: this.handleMouseOver,
        mouseout: this.handleMouseOut
      }
    });
  }
}
EdgeVertex.displayName = "EdgeVertex";
try {
    // @ts-ignore
    EdgeVertex.displayName = "EdgeVertex";
    // @ts-ignore
    EdgeVertex.__docgenInfo = { "description": "", "displayName": "EdgeVertex", "props": { "coordinate": { "defaultValue": null, "description": "", "name": "coordinate", "required": true, "type": { "name": "Coordinate" } }, "index": { "defaultValue": null, "description": "", "name": "index", "required": true, "type": { "name": "number" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "(coordinate: Coordinate, index: number) => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/EdgeVertex.tsx#EdgeVertex"] = { docgenInfo: EdgeVertex.__docgenInfo, name: "EdgeVertex", path: "src/PolygonDraw/EdgeVertex.tsx#EdgeVertex" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/Map.tsx":
/*!*********************************!*\
  !*** ./src/PolygonDraw/Map.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseMap: () => (/* binding */ BaseMap),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Polyline.js");
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Rectangle.js");
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Pane.js");
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash.flatten */ "./node_modules/lodash.flatten/index.js");
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _common_components_Modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/components/Modal */ "./src/common/components/Modal.tsx");
/* harmony import */ var _conversion_ExportPolygonForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../conversion/ExportPolygonForm */ "./src/conversion/ExportPolygonForm.tsx");
/* harmony import */ var _conversion_ImportPolygonForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../conversion/ImportPolygonForm */ "./src/conversion/ImportPolygonForm.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var _leaflet_Map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../leaflet/Map */ "./src/leaflet/Map.tsx");
/* harmony import */ var _ActionBar_ActionBar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ActionBar/ActionBar */ "./src/ActionBar/ActionBar.tsx");
/* harmony import */ var _EdgeVertex__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./EdgeVertex */ "./src/PolygonDraw/EdgeVertex.tsx");
/* harmony import */ var _PolygonVertex__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./PolygonVertex */ "./src/PolygonDraw/PolygonVertex.tsx");
/* harmony import */ var _BoundaryPolygon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BoundaryPolygon */ "./src/PolygonDraw/BoundaryPolygon.tsx");
/* harmony import */ var _Polygon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Polygon */ "./src/PolygonDraw/Polygon.tsx");
/* harmony import */ var _MapInner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./MapInner */ "./src/PolygonDraw/MapInner.tsx");
/* harmony import */ var _ActionBar_EdgeConstraintsBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ActionBar/EdgeConstraintsBar */ "./src/ActionBar/EdgeConstraintsBar.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");








//import { TileLayer } from '../leaflet/TileLayer';












class BaseMap extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {
  map = null;
  state = {
    isMovedPointInBoundary: true,
    isShiftPressed: false,
    isMoveActive: false,
    rectangleSelection: null,
    previousMouseMovePosition: undefined,
    selectedEdge: null,
    edgeRestrictions: null,
    isPenToolActive: false,
    isDrawToolActive: false,
    newPointPosition: null,
    showExportPolygonModal: false,
    showImportPolygonModal: false
  };
  static getDerivedStateFromProps(props, state) {
    return {
      ...state,
      isPenToolActive: props.polygonCoordinates.length === 0 ? true : state.isPenToolActive
    };
  }
  componentDidMount() {
    this.reframe();
    this.toggleVectorMode();
    const container = this.map?.getContainer();
    if (container) {
      container.addEventListener('keydown', this.handleKeyDown, false);
      container.addEventListener('keyup', this.handleKeyUp);
    }
  }
  componentWillUnmount() {
    const container = this.map?.getContainer();
    if (container) {
      container.removeEventListener('keydown', this.handleKeyDown, false);
      container.removeEventListener('keyup', this.handleKeyUp);
    }
  }
  getSnapshotBeforeUpdate(prevProps, prevState) {
    const reframe =
    // Reframe when the polygon loads for the first time
    prevProps.polygonCoordinates[prevProps.activePolygonIndex].length === 0 && this.props.polygonCoordinates[this.props.activePolygonIndex].length > 1 ||
    // Reframe when the boundary polygon loads for the first time
    prevProps.boundaryPolygonCoordinates !== this.props.boundaryPolygonCoordinates;
    const size = this.getSize(this.map);
    return {
      reframe,
      size
    };
  }
  componentDidUpdate(prevProps, prevState, {
    reframe,
    size
  }) {
    if (reframe) {
      this.reframe();
    }
    if (this.map && this.getSize(this.map) !== size) {
      this.map.invalidateSize();
    }
  }
  setMap = map => {
    if (map) {
      this.map = map;
      this.reframe();
      this.toggleVectorMode();
      const container = map?.getContainer();
      if (container) {
        container?.addEventListener('keydown', this.handleKeyDown, false);
        container?.addEventListener('keyup', this.handleKeyUp);
      }
    }
  };
  reframe = () => {
    const {
      polygonCoordinates,
      boundaryPolygonCoordinates,
      initialCenter,
      initialZoom
    } = this.props;
    if (polygonCoordinates[this.props.activePolygonIndex].length > 1) {
      this.reframeOnPolygon(polygonCoordinates);
    } else if (boundaryPolygonCoordinates.length > 0 && boundaryPolygonCoordinates !== _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.WORLD_COORDINATES) {
      this.reframeOnPolygon(boundaryPolygonCoordinates);
    } else if (this.map) {
      this.map.setView(initialCenter, initialZoom);
    }
  };
  reframeOnPolygon = polygonCoordinates => {
    if (this.map && polygonCoordinates.length > 0) {
      const bounds = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngBoundsFromCoordinates)(lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default()(polygonCoordinates));
      this.map.fitBounds(bounds);
    }
  };
  toggleVectorMode = () => {
    if (!this.props.editable) {
      return;
    }
    this.setState({
      isPenToolActive: !this.state.isPenToolActive,
      newPointPosition: null
    });
  };
  toggleDrawMode = () => {
    if (!this.props.drawable) {
      return;
    }
    this.setState({
      isPenToolActive: !this.state.isPenToolActive,
      newPointPosition: null
    });
  };
  getSize = map => {
    const container = map?.getContainer();
    return container ? `${container.clientHeight}x${container.clientWidth}` : '';
  };
  handleOnFocusClicked = () => {
    const activePolygon = this.props.polygonCoordinates[this.props.activePolygonIndex];
    if (activePolygon) {
      this.reframeOnPolygon(activePolygon);
    } else {
      this.reframe();
    }
  };

  ///////////////////////////////////////////////////////////////////////////
  //                          Export / Import methods                      //
  ///////////////////////////////////////////////////////////////////////////

  handleExportPolygon = serialized => {
    navigator.clipboard.writeText(serialized);
  };
  handleExportPolygonActionClicked = () => {
    this.setState({
      showExportPolygonModal: true
    });
  };
  handleExportPolygonModalClosed = () => {
    this.setState({
      showExportPolygonModal: false
    });
  };
  handleImportPolygon = coordinates => {
    this.props.setPolygon(coordinates);
    this.reframeOnPolygon(coordinates);
  };
  handleImportPolygonActionClicked = () => {
    this.setState({
      showImportPolygonModal: true
    });
  };
  handleImportPolygonModalClosed = () => {
    this.setState({
      showImportPolygonModal: false
    });
  };

  ///////////////////////////////////////////////////////////////////////////
  //                          Map Events methods                           //
  ///////////////////////////////////////////////////////////////////////////

  handleMapClick = event => {
    const coordinate = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(event.latlng);
    if (this.state.isPenToolActive && !this.props.isPolygonClosed && (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isCoordinateInPolygon)(coordinate, this.props.boundaryPolygonCoordinates)) {
      this.props.addPoint(coordinate);
    } else if (!this.state.isShiftPressed) {
      this.props.deselectAllPoints();
    }
  };
  handleMouseDownOnMap = event => {
    const coordinate = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(event.latlng);
    if (this.state.isShiftPressed) {
      this.setState({
        rectangleSelection: {
          startPosition: coordinate,
          endPosition: coordinate,
          startTime: new Date().getTime()
        }
      });
    }
  };
  handleMouseUpOnMap = () => {
    if (this.state.rectangleSelection) {
      this.setState({
        rectangleSelection: null
      });
    }
  };
  handleMouseMoveOnMap = event => {
    const mouseCoordinate = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(event.latlng);
    if (this.state.rectangleSelection && new Date().getTime() - this.state.rectangleSelection?.startTime >= 100) {
      const start = this.state.rectangleSelection.startPosition;
      if (start) {
        const bounds = (0,leaflet__WEBPACK_IMPORTED_MODULE_1__.latLngBounds)((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(start), event.latlng);
        const activePolygon = this.props.polygonCoordinates[this.props.activePolygonIndex];
        if (activePolygon) {
          const pointsInsideBounds = [];
          activePolygon.forEach((point, index) => {
            if (bounds.contains((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(point))) {
              pointsInsideBounds.push(index);
            }
          });
          this.props.selectPoints(pointsInsideBounds);
        }
      }
      this.setState({
        rectangleSelection: {
          ...this.state.rectangleSelection,
          endPosition: mouseCoordinate
        }
      });
    } else {
      const newPointPosition = this.state.isPenToolActive && !this.props.isPolygonClosed && (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isCoordinateInPolygon)(mouseCoordinate, this.props.boundaryPolygonCoordinates) ? mouseCoordinate : null;
      this.setState({
        newPointPosition
      });
    }
  };
  handleMouseOutOfMap = () => this.setState({
    newPointPosition: null,
    rectangleSelection: null
  });

  ///////////////////////////////////////////////////////////////////////////
  //                           Vertex methods                              //
  ///////////////////////////////////////////////////////////////////////////

  onPolygonVertexClick = index => {
    if (index === 0 && this.props.polygonCoordinates[this.props.activePolygonIndex].length > 2 && !this.props.isPolygonClosed) {
      // Close polygon when user clicks the first point
      this.props.addPoint({
        ...this.props.polygonCoordinates[this.props.activePolygonIndex][0]
      });
    } else if (this.state.isShiftPressed) {
      if (this.props.selection.has(index)) {
        this.props.removePointFromSelection(index);
      } else {
        this.props.addPointsToSelection([index]);
      }
    } else {
      this.props.selectPoints([index]);
    }
  };
  startVertexMove = latLng => {
    if (!this.state.isMoveActive) {
      this.setState({
        isMoveActive: true,
        previousMouseMovePosition: (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(latLng)
      });
    }
  };
  onPolygonVertexDragStart = (latLng, index) => {
    if (!this.props.selection.has(index)) {
      if (this.state.isShiftPressed) {
        this.props.addPointsToSelection([index]);
      } else {
        this.props.selectPoints([index]);
      }
    }
    this.startVertexMove(latLng);
  };
  updateVertexPosition = latLng => {
    if (this.state.isMoveActive && this.state.previousMouseMovePosition) {
      const coordinate = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createCoordinateFromLeafletLatLng)(latLng);
      const moveVector = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.subtractCoordinates)(coordinate, this.state.previousMouseMovePosition);
      const nextCoordinates = Array.from(this.props.selection).map(i => this.props.polygonCoordinates[this.props.activePolygonIndex][i]).map(coord => (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.addCoordinates)(coord, moveVector));
      const inBoundary = nextCoordinates.every(nextCoordinate => (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isCoordinateInPolygon)(nextCoordinate, this.props.boundaryPolygonCoordinates));
      if (inBoundary) {
        this.props.moveSelectedPoints(moveVector);
        this.setState({
          previousMouseMovePosition: coordinate,
          isMovedPointInBoundary: true
        });
      } else {
        this.setState({
          isMovedPointInBoundary: false
        });
      }
    }
  };
  endVertexMove = () => {
    if (this.state.isMoveActive) {
      this.setState({
        isMoveActive: false,
        previousMouseMovePosition: undefined,
        isMovedPointInBoundary: true
      });
    }
  };
  handleEdgeClick = (coordinate, index) => {
    if (this.state.selectedEdge === index) {
      // If the same edge is clicked, add a vertex in the middle of the edge.
      this.handleAddVertexInMiddleOfEdge();
    } else {
      // Otherwise, just set the clicked edge as the selected edge.
      this.setState({
        selectedEdge: index
      });
    }
  };
  handleAddVertexInMiddleOfEdge = () => {
    if (this.state.selectedEdge === null) {
      console.error("No edge selected to add a vertex.");
      return;
    }
    const activePolygon = this.props.polygonCoordinates[this.props.activePolygonIndex];
    const startPoint = activePolygon[this.state.selectedEdge];
    const endPoint = activePolygon[(this.state.selectedEdge + 1) % activePolygon.length];
    const midpoint = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.getMidPoint)(startPoint, endPoint);
    this.props.addPointToEdge(midpoint, this.state.selectedEdge);
    this.setState({
      selectedEdge: null
    });
  };
  handleSetHorizontal = () => {
    this.setState({
      edgeRestrictions: 'horizontal'
    });
  };
  handleSetVertical = () => {
    this.setState({
      edgeRestrictions: 'vertical'
    });
  };

  ///////////////////////////////////////////////////////////////////////////
  //                      Keyboard handling methods                        //
  ///////////////////////////////////////////////////////////////////////////

  handleKeyDown = e => {
    e.preventDefault();
    switch (e.key) {
      case 'Escape':
        this.props.deselectAllPoints();
        break;
      case 'Backspace':
        this.props.deletePolygonPoints();
        break;
      case 'Shift':
        this.setState({
          isShiftPressed: true
        });
        break;
      case 'p':
        this.toggleVectorMode();
        break;
      case 'd':
        if (this.props.editable) {
          this.props.deselectAllPoints();
        }
        break;
      case 'a':
        if (this.props.editable) {
          this.props.selectAllPoints();
        }
        break;
      case 'f':
        this.reframe();
        break;
      case 'z':
        if (e.metaKey && e.shiftKey) {
          this.props.onRedo();
        } else if (e.metaKey) {
          this.props.onUndo();
        }
        break;
    }
  };
  handleKeyUp = e => {
    switch (e.key) {
      case 'Shift':
        this.setState({
          isShiftPressed: false
        });
        break;
    }
  };

  ///////////////////////////////////////////////////////////////////////////
  //                           Render methods                              //
  ///////////////////////////////////////////////////////////////////////////

  renderPolygonVertex = (coordinate, index) => {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_PolygonVertex__WEBPACK_IMPORTED_MODULE_11__.PolygonVertex, {
      coordinate: coordinate,
      isSelected: this.props.selection.has(index),
      index: index,
      onClick: this.onPolygonVertexClick,
      onDragStart: this.onPolygonVertexDragStart,
      onDrag: this.updateVertexPosition,
      onDragEnd: this.endVertexMove
    }, index);
  };
  renderActivePolygonPoints = () => {
    return this.props.polygonCoordinates[this.props.activePolygonIndex].map(this.renderPolygonVertex);
  };
  renderVertexEdge = (coordinate, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_EdgeVertex__WEBPACK_IMPORTED_MODULE_10__.EdgeVertex, {
    index: index,
    coordinate: coordinate,
    onClick: this.props.addPointToEdge
  }, index);
  // the olde version with not fincvtionalitu to work with the adding the vertexe to the middle of the
  // renderPolygonEdges = () => {
  //     return getPolygonEdges(this.props.polygonCoordinates[this.props.activePolygonIndex]).map(this.renderVertexEdge);
  // };

  // the new wersion of the renderVertexEdge
  renderPolygonEdges = () => {
    return (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.getPolygonEdges)(this.props.polygonCoordinates[this.props.activePolygonIndex]).map((coordinate, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_EdgeVertex__WEBPACK_IMPORTED_MODULE_10__.EdgeVertex, {
      index: index,
      coordinate: coordinate,
      onClick: this.handleEdgeClick
    }, index));
  };
  renderInactivePolygons = () => {
    const activePolygonIsClosed = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isPolygonClosed)(this.props.polygonCoordinates[this.props.activePolygonIndex]);
    return this.props.polygonCoordinates.map((coordinates, index) => {
      const eventHandler = {
        onClick: () => this.props.onClick && this.props.onClick(index),
        onMouseEnter: () => this.props.onMouseEnter && this.props.onMouseEnter(index),
        onMouseLeave: () => this.props.onMouseLeave && this.props.onMouseLeave(index)
      };
      return index === this.props.activePolygonIndex ? null : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Polygon__WEBPACK_IMPORTED_MODULE_13__.Polygon, {
        coordinates: coordinates,
        isActive: false,
        isHighlighted: index === this.props.highlightedPolygonIndex,
        ...(activePolygonIsClosed ? eventHandler : {})
      }, `${index}-${coordinates.reduce((acc, cur) => acc + cur.latitude + cur.longitude, 0)}`);
    });
  };
  renderActivePolygon = () => {
    const coordinates = this.props.polygonCoordinates[this.props.activePolygonIndex];
    const index = this.props.activePolygonIndex;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Polygon__WEBPACK_IMPORTED_MODULE_13__.Polygon, {
      coordinates: coordinates,
      isActive: true,
      isHighlighted: false,
      onClick: () => this.props.onClick && this.props.onClick(index),
      onMouseEnter: () => this.props.onMouseEnter && this.props.onMouseEnter(index),
      onMouseLeave: () => this.props.onMouseLeave && this.props.onMouseLeave(index)
    });
  };
  renderPolyline = () => {
    const {
      newPointPosition
    } = this.state;
    const polygon = this.props.polygonCoordinates[this.props.activePolygonIndex].map(_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate);
    if (polygon.length === 0) {
      return null;
    }
    const newPath = [polygon[polygon.length - 1]];
    if (newPointPosition) {
      newPath.push((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(newPointPosition));
    }
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.Polyline, {
        positions: polygon,
        color: _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.POLYGON_ACTIVE_COLOR,
        interactive: false
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.Polyline, {
        positions: newPath,
        color: _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.POLYGON_ACTIVE_COLOR,
        dashArray: "2 12",
        interactive: false
      })]
    });
  };
  renderSelectionRectangle = () => {
    if (this.state.rectangleSelection) {
      const bounds = (0,leaflet__WEBPACK_IMPORTED_MODULE_1__.latLngBounds)((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(this.state.rectangleSelection.startPosition), (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(this.state.rectangleSelection.endPosition));
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.Rectangle, {
        color: _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.RECTANGLE_SELECTION_COLOR,
        fillColor: _constants__WEBPACK_IMPORTED_MODULE_7__.MAP.RECTANGLE_SELECTION_COLOR,
        bounds: bounds
      });
    }
    return null;
  };
  render() {
    const {
      editable,
      drawable,
      selection,
      initialZoom,
      initialCenter
    } = this.props;
    const {
      newPointPosition,
      isPenToolActive,
      isDrawToolActive
    } = this.state;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_leaflet_Map__WEBPACK_IMPORTED_MODULE_8__.Container, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_leaflet_Map__WEBPACK_IMPORTED_MODULE_8__.Map, {
        fadeAnimation: true,
        trackResize: true,
        zoomControl: false,
        ref: this.setMap,
        center: initialCenter,
        zoom: initialZoom,
        zoomDelta: 2,
        zoomSnap: 1.5,
        boxZoom: false,
        drawCursor: !!newPointPosition,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_BoundaryPolygon__WEBPACK_IMPORTED_MODULE_12__.BoundaryPolygon, {
          coordinates: this.props.boundaryPolygonCoordinates,
          hasError: !this.state.isMovedPointInBoundary
        }), this.props.isPolygonClosed ? this.renderActivePolygon() : this.renderPolyline(), this.renderInactivePolygons(), editable && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_leaflet__WEBPACK_IMPORTED_MODULE_18__.Pane, {
          name: "Polygon points",
          children: [this.renderActivePolygonPoints(), this.props.isPolygonClosed && isPenToolActive && this.renderPolygonEdges()]
        }), this.state.rectangleSelection && this.renderSelectionRectangle(), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_MapInner__WEBPACK_IMPORTED_MODULE_19__["default"], {
          onClick: this.handleMapClick,
          onMouseOut: this.handleMouseOutOfMap,
          onMouseMove: this.handleMouseMoveOnMap,
          onMouseDown: this.handleMouseDownOnMap,
          onMouseUp: this.handleMouseUpOnMap
        })]
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_ActionBar_ActionBar__WEBPACK_IMPORTED_MODULE_9__.ActionBar, {
        editable: editable,
        drawable: drawable,
        isVectorModeEnabled: isPenToolActive,
        isDrawModeEnabled: isDrawToolActive,
        onDelete: this.props.deletePolygonPoints,
        onFocus: this.handleOnFocusClicked,
        onAddVertex: this.handleAddVertexInMiddleOfEdge,
        onEnableDrawMode: this.toggleDrawMode,
        onEnableVectorMode: this.toggleVectorMode,
        deleteInactive: selection.size === 0,
        onExport: this.handleExportPolygonActionClicked,
        onImport: this.handleImportPolygonActionClicked
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_ActionBar_EdgeConstraintsBar__WEBPACK_IMPORTED_MODULE_14__.EdgeConstraintsBar, {
        onSetHorizontal: this.handleSetHorizontal,
        onSetVertical: this.handleSetVertical
      }), this.state.showExportPolygonModal && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_common_components_Modal__WEBPACK_IMPORTED_MODULE_4__.Modal, {
        onClose: this.handleExportPolygonModalClosed,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_conversion_ExportPolygonForm__WEBPACK_IMPORTED_MODULE_5__.ExportPolygonForm, {
          polygon: this.props.polygonCoordinates[this.props.activePolygonIndex],
          onSubmit: this.handleExportPolygon
        })
      }), this.state.showImportPolygonModal && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_common_components_Modal__WEBPACK_IMPORTED_MODULE_4__.Modal, {
        onClose: this.handleImportPolygonModalClosed,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_conversion_ImportPolygonForm__WEBPACK_IMPORTED_MODULE_6__.ImportPolygonForm, {
          onSubmit: this.handleImportPolygon
        })
      })]
    });
  }
}
BaseMap.displayName = "BaseMap";
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(BaseMap));
try {
    // @ts-ignore
    BaseMap.displayName = "BaseMap";
    // @ts-ignore
    BaseMap.__docgenInfo = { "description": "", "displayName": "BaseMap", "props": { "activePolygonIndex": { "defaultValue": null, "description": "activePolygonIndex is the index of the polygon that is currently available for editing", "name": "activePolygonIndex", "required": true, "type": { "name": "number" } }, "highlightedPolygonIndex": { "defaultValue": null, "description": "", "name": "highlightedPolygonIndex", "required": false, "type": { "name": "number" } }, "polygonCoordinates": { "defaultValue": null, "description": "", "name": "polygonCoordinates", "required": true, "type": { "name": "Coordinate[][]" } }, "boundaryPolygonCoordinates": { "defaultValue": null, "description": "", "name": "boundaryPolygonCoordinates", "required": true, "type": { "name": "Coordinate[]" } }, "selection": { "defaultValue": null, "description": "", "name": "selection", "required": true, "type": { "name": "Set<number>" } }, "editable": { "defaultValue": null, "description": "", "name": "editable", "required": true, "type": { "name": "boolean" } }, "drawable": { "defaultValue": null, "description": "", "name": "drawable", "required": true, "type": { "name": "boolean" } }, "initialCenter": { "defaultValue": null, "description": "", "name": "initialCenter", "required": true, "type": { "name": "LatLngTuple" } }, "initialZoom": { "defaultValue": null, "description": "", "name": "initialZoom", "required": true, "type": { "name": "number" } }, "isPolygonClosed": { "defaultValue": null, "description": "", "name": "isPolygonClosed", "required": true, "type": { "name": "boolean" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": false, "type": { "name": "((index: number) => void)" } }, "onMouseEnter": { "defaultValue": null, "description": "", "name": "onMouseEnter", "required": false, "type": { "name": "((index: number) => void)" } }, "onMouseLeave": { "defaultValue": null, "description": "", "name": "onMouseLeave", "required": false, "type": { "name": "((index: number) => void)" } }, "addPoint": { "defaultValue": null, "description": "", "name": "addPoint", "required": true, "type": { "name": "(coord: Coordinate) => void" } }, "addPointToEdge": { "defaultValue": null, "description": "", "name": "addPointToEdge", "required": true, "type": { "name": "(coordinate: Coordinate, index: number) => void" } }, "deselectAllPoints": { "defaultValue": null, "description": "", "name": "deselectAllPoints", "required": true, "type": { "name": "() => void" } }, "removePointFromSelection": { "defaultValue": null, "description": "", "name": "removePointFromSelection", "required": true, "type": { "name": "(index: number) => void" } }, "addPointsToSelection": { "defaultValue": null, "description": "", "name": "addPointsToSelection", "required": true, "type": { "name": "(indices: number[]) => void" } }, "selectPoints": { "defaultValue": null, "description": "", "name": "selectPoints", "required": true, "type": { "name": "(indices: number[]) => void" } }, "moveSelectedPoints": { "defaultValue": null, "description": "", "name": "moveSelectedPoints", "required": true, "type": { "name": "(newPosition: Coordinate) => void" } }, "deletePolygonPoints": { "defaultValue": null, "description": "", "name": "deletePolygonPoints", "required": true, "type": { "name": "() => void" } }, "selectAllPoints": { "defaultValue": null, "description": "", "name": "selectAllPoints", "required": true, "type": { "name": "() => void" } }, "setPolygon": { "defaultValue": null, "description": "", "name": "setPolygon", "required": true, "type": { "name": "(polygon: Coordinate[]) => void" } }, "onUndo": { "defaultValue": null, "description": "", "name": "onUndo", "required": true, "type": { "name": "() => void" } }, "onRedo": { "defaultValue": null, "description": "", "name": "onRedo", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/Map.tsx#BaseMap"] = { docgenInfo: BaseMap.__docgenInfo, name: "BaseMap", path: "src/PolygonDraw/Map.tsx#BaseMap" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/MapInner.tsx":
/*!**************************************!*\
  !*** ./src/PolygonDraw/MapInner.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/hooks.js");

const MapInner = ({
  onClick,
  onMouseMove,
  onMouseOut
}) => {
  (0,react_leaflet__WEBPACK_IMPORTED_MODULE_0__.useMapEvents)({
    click: onClick,
    mousedown: onMouseOut,
    mouseup: onMouseOut,
    mousemove: onMouseMove,
    mouseout: onMouseOut
  });
  return null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapInner);
try {
    // @ts-ignore
    MapInner.displayName = "MapInner";
    // @ts-ignore
    MapInner.__docgenInfo = { "description": "", "displayName": "MapInner", "props": { "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "(event: LeafletMouseEvent) => void" } }, "onMouseDown": { "defaultValue": null, "description": "", "name": "onMouseDown", "required": true, "type": { "name": "(event: LeafletMouseEvent) => void" } }, "onMouseUp": { "defaultValue": null, "description": "", "name": "onMouseUp", "required": true, "type": { "name": "(event: LeafletMouseEvent) => void" } }, "onMouseMove": { "defaultValue": null, "description": "", "name": "onMouseMove", "required": true, "type": { "name": "(event: LeafletMouseEvent) => void" } }, "onMouseOut": { "defaultValue": null, "description": "", "name": "onMouseOut", "required": true, "type": { "name": "(event: LeafletMouseEvent) => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/MapInner.tsx#MapInner"] = { docgenInfo: MapInner.__docgenInfo, name: "MapInner", path: "src/PolygonDraw/MapInner.tsx#MapInner" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/Polygon.tsx":
/*!*************************************!*\
  !*** ./src/PolygonDraw/Polygon.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Polygon: () => (/* binding */ Polygon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/Polygon.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





// refers to https://leafletjs.com/reference-1.6.0.html#path-dasharray and
// https://developer.mozilla.org/de/docs/Web/SVG/Attribute/stroke-dasharray
// 4 describes the dash size, 12 the gap size

const DASH_STROKE_SIZE = '1 4';
const Polygon = ({
  isActive,
  isHighlighted,
  coordinates,
  onClick,
  onMouseEnter,
  onMouseLeave
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_4__.Polygon, {
  positions: coordinates.map(_helpers__WEBPACK_IMPORTED_MODULE_1__.createLeafletLatLngFromCoordinate),
  dashArray: isActive ? '' : DASH_STROKE_SIZE,
  fillColor: isActive || isHighlighted ? _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_ACTIVE_COLOR : _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_INACTIVE_COLOR,
  weight: _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.BORDER_WIDTH,
  color: isActive ? _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_ACTIVE_COLOR : _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.POLYGON_INACTIVE_COLOR,
  "data-testid": "polygon",
  eventHandlers: {
    click: onClick,
    mouseover: onMouseEnter,
    mouseout: onMouseLeave
  }
});
Polygon.displayName = "Polygon";
try {
    // @ts-ignore
    Polygon.displayName = "Polygon";
    // @ts-ignore
    Polygon.__docgenInfo = { "description": "", "displayName": "Polygon", "props": { "coordinates": { "defaultValue": null, "description": "", "name": "coordinates", "required": true, "type": { "name": "Coordinate[]" } }, "isActive": { "defaultValue": null, "description": "", "name": "isActive", "required": true, "type": { "name": "boolean" } }, "isHighlighted": { "defaultValue": null, "description": "", "name": "isHighlighted", "required": true, "type": { "name": "boolean" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": false, "type": { "name": "(() => void)" } }, "onMouseEnter": { "defaultValue": null, "description": "", "name": "onMouseEnter", "required": false, "type": { "name": "(() => void)" } }, "onMouseLeave": { "defaultValue": null, "description": "", "name": "onMouseLeave", "required": false, "type": { "name": "(() => void)" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/Polygon.tsx#Polygon"] = { docgenInfo: Polygon.__docgenInfo, name: "Polygon", path: "src/PolygonDraw/Polygon.tsx#Polygon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/PolygonDraw.tsx":
/*!*****************************************!*\
  !*** ./src/PolygonDraw/PolygonDraw.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PolygonDraw: () => (/* binding */ PolygonDraw)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var _Map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Map */ "./src/PolygonDraw/Map.tsx");
/* harmony import */ var _usePolygonEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./usePolygonEditor */ "./src/PolygonDraw/usePolygonEditor.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");






function PolygonDraw({
  polygon,
  activeIndex = 0,
  highlightedIndex,
  boundary,
  initialCenter,
  initialZoom,
  editable = true,
  drawable = true,
  onChange,
  onClick,
  onMouseEnter,
  onMouseLeave
}) {
  const {
    polygons,
    selection,
    addPoint,
    addPointToEdge,
    setPolygon,
    deselectAllPoints,
    removePointFromSelection,
    addPointsToSelection,
    selectPoints,
    moveSelectedPoints,
    deletePolygonPoints,
    selectAllPoints,
    isPolygonClosed,
    undo,
    redo
  } = (0,_usePolygonEditor__WEBPACK_IMPORTED_MODULE_4__.usePolygonEditor)(onChange, polygon, activeIndex);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Map__WEBPACK_IMPORTED_MODULE_3__["default"], {
    selection: selection,
    editable: editable,
    drawable: drawable,
    initialCenter: initialCenter ? (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.createLeafletLatLngTupleFromCoordinate)(initialCenter) : _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.DEFAULT_CENTER,
    initialZoom: initialZoom || _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.DEFAULT_ZOOM,
    boundaryPolygonCoordinates: boundary || _constants__WEBPACK_IMPORTED_MODULE_2__.MAP.WORLD_COORDINATES,
    activePolygonIndex: activeIndex,
    highlightedPolygonIndex: highlightedIndex,
    polygonCoordinates: polygons,
    setPolygon: setPolygon,
    addPoint: addPoint,
    addPointToEdge: addPointToEdge,
    deselectAllPoints: deselectAllPoints,
    removePointFromSelection: removePointFromSelection,
    addPointsToSelection: addPointsToSelection,
    selectPoints: selectPoints,
    moveSelectedPoints: moveSelectedPoints,
    deletePolygonPoints: deletePolygonPoints,
    selectAllPoints: selectAllPoints,
    isPolygonClosed: isPolygonClosed,
    onClick: onClick,
    onMouseEnter: onMouseEnter,
    onMouseLeave: onMouseLeave,
    onUndo: undo,
    onRedo: redo
  });
}
PolygonDraw.displayName = "PolygonDraw";
try {
    // @ts-ignore
    PolygonDraw.displayName = "PolygonDraw";
    // @ts-ignore
    PolygonDraw.__docgenInfo = { "description": "", "displayName": "PolygonDraw", "props": { "boundary": { "defaultValue": null, "description": "", "name": "boundary", "required": false, "type": { "name": "Coordinate[]" } }, "initialCenter": { "defaultValue": null, "description": "", "name": "initialCenter", "required": false, "type": { "name": "Coordinate" } }, "initialZoom": { "defaultValue": null, "description": "", "name": "initialZoom", "required": false, "type": { "name": "number" } }, "editable": { "defaultValue": { value: "true" }, "description": "", "name": "editable", "required": false, "type": { "name": "boolean" } }, "drawable": { "defaultValue": { value: "true" }, "description": "", "name": "drawable", "required": false, "type": { "name": "boolean" } }, "onChange": { "defaultValue": null, "description": "", "name": "onChange", "required": false, "type": { "name": "((polygon: T, isValid: boolean) => void)" } }, "polygon": { "defaultValue": null, "description": "", "name": "polygon", "required": true, "type": { "name": "Coordinate[] | Coordinate[][]" } }, "activeIndex": { "defaultValue": { value: "0" }, "description": "", "name": "activeIndex", "required": false, "type": { "name": "number" } }, "highlightedIndex": { "defaultValue": null, "description": "", "name": "highlightedIndex", "required": false, "type": { "name": "number" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": false, "type": { "name": "((index: number) => void)" } }, "onMouseEnter": { "defaultValue": null, "description": "", "name": "onMouseEnter", "required": false, "type": { "name": "((index: number) => void)" } }, "onMouseLeave": { "defaultValue": null, "description": "", "name": "onMouseLeave", "required": false, "type": { "name": "((index: number) => void)" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/PolygonDraw.tsx#PolygonDraw"] = { docgenInfo: PolygonDraw.__docgenInfo, name: "PolygonDraw", path: "src/PolygonDraw/PolygonDraw.tsx#PolygonDraw" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/PolygonVertex.tsx":
/*!*******************************************!*\
  !*** ./src/PolygonDraw/PolygonVertex.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PolygonVertex: () => (/* binding */ PolygonVertex)
/* harmony export */ });
/* harmony import */ var leaflet_path_drag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! leaflet-path-drag */ "./node_modules/leaflet-path-drag/index.js");
/* harmony import */ var leaflet_path_drag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(leaflet_path_drag__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/CircleMarker.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/constants.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");







class PolygonVertex extends (react__WEBPACK_IMPORTED_MODULE_1___default().Component) {
  state = {
    isHovered: false,
    isDragged: false,
    latLng: new leaflet__WEBPACK_IMPORTED_MODULE_2__.LatLng(0, 0)
  };
  static getDerivedStateFromProps = (props, state) => {
    return state.isDragged ? state : {
      ...state,
      latLng: (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.createLeafletLatLngFromCoordinate)(props.coordinate)
    };
  };
  componentDidMount() {
    if (this.circleMarkerElement) {
      this.circleMarkerElement.on('dragstart', this.handleDragStart);
      this.circleMarkerElement.on('drag', this.handleDrag);
      this.circleMarkerElement.on('dragend', this.handleDragEnd);
    }
  }
  componentWillUnmount() {
    if (this.circleMarkerElement) {
      this.circleMarkerElement.off('dragstart', this.handleDragStart);
      this.circleMarkerElement.off('drag', this.handleDrag);
      this.circleMarkerElement.off('dragend', this.handleDragEnd);
    }
  }

  // tslint:disable-next-line
  setCircleMarkerRef = ref => {
    if (ref) {
      this.circleMarkerElement = ref;
    }
  };
  handleClick = () => this.props.onClick(this.props.index);
  handleMouseOver = () => this.setState({
    isHovered: true
  });
  handleMouseOut = () => this.setState({
    isHovered: false
  });
  handleDragStart = event => {
    this.props.onDragStart(event.target.getLatLng(), this.props.index);
    this.setState({
      isDragged: true
    });
  };
  handleDrag = event => {
    if (this.state.isDragged) {
      this.props.onDrag(event.target.getLatLng());
    }
  };
  handleDragEnd = () => {
    this.props.onDragEnd();
    this.setState({
      isDragged: false
    });
  };
  render() {
    const {
      isSelected
    } = this.props;
    const {
      isHovered,
      latLng
    } = this.state;
    const selectedOrHovered = isSelected || isHovered;
    const hoveredAndNotSelected = isHovered && !isSelected;
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_6__.CircleMarker, {
      "aria-label": "Polygon",
      ref: this.setCircleMarkerRef,
      fillColor: _constants__WEBPACK_IMPORTED_MODULE_4__.MAP.VERTEX_FILL_COLOR,
      fillOpacity: 1,
      color: _constants__WEBPACK_IMPORTED_MODULE_4__.MAP.POLYGON_ACTIVE_COLOR,
      opacity: hoveredAndNotSelected ? 0.6 : 1,
      weight: selectedOrHovered ? 4 : 1,
      radius: selectedOrHovered ? 6 : 4,
      center: latLng,
      eventHandlers: {
        click: this.handleClick,
        mouseover: this.handleMouseOver,
        mouseout: this.handleMouseOut
      },
      bubblingMouseEvents: false
      // @ts-ignore
      ,
      draggable: true
    });
  }
}
PolygonVertex.displayName = "PolygonVertex";
try {
    // @ts-ignore
    PolygonVertex.displayName = "PolygonVertex";
    // @ts-ignore
    PolygonVertex.__docgenInfo = { "description": "", "displayName": "PolygonVertex", "props": { "coordinate": { "defaultValue": null, "description": "", "name": "coordinate", "required": true, "type": { "name": "Coordinate" } }, "isSelected": { "defaultValue": null, "description": "", "name": "isSelected", "required": true, "type": { "name": "boolean" } }, "index": { "defaultValue": null, "description": "", "name": "index", "required": true, "type": { "name": "number" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "(index: number) => void" } }, "onDragStart": { "defaultValue": null, "description": "", "name": "onDragStart", "required": true, "type": { "name": "(latlng: LatLng, index: number) => void" } }, "onDrag": { "defaultValue": null, "description": "", "name": "onDrag", "required": true, "type": { "name": "(latlng: LatLng) => void" } }, "onDragEnd": { "defaultValue": null, "description": "", "name": "onDragEnd", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/PolygonVertex.tsx#PolygonVertex"] = { docgenInfo: PolygonVertex.__docgenInfo, name: "PolygonVertex", path: "src/PolygonDraw/PolygonVertex.tsx#PolygonVertex" };
}
catch (__react_docgen_typescript_loader_error) { }
try {
    // @ts-ignore
    getDerivedStateFromProps.displayName = "PolygonVertex.getDerivedStateFromProps";
    // @ts-ignore
    getDerivedStateFromProps.__docgenInfo = { "description": "", "displayName": "PolygonVertex.getDerivedStateFromProps", "props": { "coordinate": { "defaultValue": null, "description": "", "name": "coordinate", "required": true, "type": { "name": "Coordinate" } }, "isSelected": { "defaultValue": null, "description": "", "name": "isSelected", "required": true, "type": { "name": "boolean" } }, "index": { "defaultValue": null, "description": "", "name": "index", "required": true, "type": { "name": "number" } }, "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "(index: number) => void" } }, "onDragStart": { "defaultValue": null, "description": "", "name": "onDragStart", "required": true, "type": { "name": "(latlng: LatLng, index: number) => void" } }, "onDrag": { "defaultValue": null, "description": "", "name": "onDrag", "required": true, "type": { "name": "(latlng: LatLng) => void" } }, "onDragEnd": { "defaultValue": null, "description": "", "name": "onDragEnd", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/PolygonDraw/PolygonVertex.tsx#PolygonVertex.getDerivedStateFromProps"] = { docgenInfo: PolygonVertex.getDerivedStateFromProps.__docgenInfo, name: "PolygonVertex.getDerivedStateFromProps", path: "src/PolygonDraw/PolygonVertex.tsx#PolygonVertex.getDerivedStateFromProps" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/PolygonDraw/actions.ts":
/*!************************************!*\
  !*** ./src/PolygonDraw/actions.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ADD_POINT: () => (/* binding */ ADD_POINT),
/* harmony export */   ADD_POINT_TO_EDGE: () => (/* binding */ ADD_POINT_TO_EDGE),
/* harmony export */   ADD_POINT_TO_SELECTION: () => (/* binding */ ADD_POINT_TO_SELECTION),
/* harmony export */   CHANGE_POLYGON: () => (/* binding */ CHANGE_POLYGON),
/* harmony export */   DELETE_POLYGON_POINTS: () => (/* binding */ DELETE_POLYGON_POINTS),
/* harmony export */   DESELECT_ALL_POINTS: () => (/* binding */ DESELECT_ALL_POINTS),
/* harmony export */   MOVE_SELECTED_POINTS: () => (/* binding */ MOVE_SELECTED_POINTS),
/* harmony export */   REMOVE_POINT_FROM_SELECTION: () => (/* binding */ REMOVE_POINT_FROM_SELECTION),
/* harmony export */   SELECT_ALL_POINTS: () => (/* binding */ SELECT_ALL_POINTS),
/* harmony export */   SELECT_POINTS: () => (/* binding */ SELECT_POINTS),
/* harmony export */   SET_POLYGON: () => (/* binding */ SET_POLYGON),
/* harmony export */   actions: () => (/* binding */ actions)
/* harmony export */ });
/* harmony import */ var _actionUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actionUtils */ "./src/actionUtils.ts");

// Selection actions
const SELECT_POINTS = 'POLYGON_DRAW/SELECT_POINTS';
const ADD_POINT_TO_SELECTION = 'POLYGON_DRAW/ADD_POINT_TO_SELECTION';
const REMOVE_POINT_FROM_SELECTION = 'POLYGON_DRAW/REMOVE_POINT_FROM_SELECTION';
const SELECT_ALL_POINTS = 'POLYGON_DRAW/SELECT_ALL_POINTS';
const DESELECT_ALL_POINTS = 'POLYGON_DRAW/DESELECT_ALL_POINTS';

// Delete action
const DELETE_POLYGON_POINTS = 'POLYGON_DRAW/DELETE_POLYGON_POINTS';

// Move action
const MOVE_SELECTED_POINTS = 'POLYGON_DRAW/MOVE_SELECTED_POINTS';

// Add point actions
const ADD_POINT = 'POLYGON_DRAW/ADD_POINT';
const ADD_POINT_TO_EDGE = 'POLYGON_DRAW/ADD_POINT_TO_EDGE';

// Change polygon actions
const CHANGE_POLYGON = 'POLYGON_DRAW/CHANGE_POLYGON';
const SET_POLYGON = 'POLYGON_DRAW/SET_POLYGON';
const actions = {
  // Selections action creators
  selectPoints: indices => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(SELECT_POINTS, indices),
  addPointsToSelection: indices => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(ADD_POINT_TO_SELECTION, indices),
  removePointFromSelection: index => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(REMOVE_POINT_FROM_SELECTION, index),
  selectAllPoints: () => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(SELECT_ALL_POINTS),
  deselectAllPoints: () => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(DESELECT_ALL_POINTS),
  // Move action creator
  moveSelectedPoints: movement => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(MOVE_SELECTED_POINTS, movement),
  // Add point action creator
  addPoint: coordinate => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(ADD_POINT, coordinate),
  addPointToEdge: (coordinate, index) => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(ADD_POINT_TO_EDGE, {
    coordinate,
    index
  }),
  // Delete action creator
  deletePolygonPoints: () => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(DELETE_POLYGON_POINTS),
  // Change Polygon
  changePolygon: polygon => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(CHANGE_POLYGON, polygon),
  setPolygon: polygon => (0,_actionUtils__WEBPACK_IMPORTED_MODULE_0__.createAction)(SET_POLYGON, polygon)
};

/***/ }),

/***/ "./src/PolygonDraw/reducer.ts":
/*!************************************!*\
  !*** ./src/PolygonDraw/reducer.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EDIT_HISTORY_LIMIT: () => (/* binding */ EDIT_HISTORY_LIMIT),
/* harmony export */   polygonEditReducer: () => (/* binding */ polygonEditReducer),
/* harmony export */   undoablePolygonEditReducer: () => (/* binding */ undoablePolygonEditReducer)
/* harmony export */ });
/* harmony import */ var redux_undo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-undo */ "./node_modules/redux-undo/dist/redux-undo.mjs");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions */ "./src/PolygonDraw/actions.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");



const polygonEditReducer = (state, action) => {
  switch (action.type) {
    ///////////////////////////////////////////////////////////////////////////////////
    ///                            CHANGE POLYGON CASES                             ///
    ///////////////////////////////////////////////////////////////////////////////////
    case _actions__WEBPACK_IMPORTED_MODULE_1__.CHANGE_POLYGON:
      {
        return {
          ...state,
          polygons: [...action.payload]
        };
      }
    case _actions__WEBPACK_IMPORTED_MODULE_1__.SET_POLYGON:
      {
        return {
          ...state,
          polygons: [...state.polygons.slice(0, state.activeIndex), action.payload, ...state.polygons.slice(state.activeIndex + 1)],
          selection: new Set()
        };
      }

    ///////////////////////////////////////////////////////////////////////////////////
    ///                            MOVE COORDINATES CASES                           ///
    ///////////////////////////////////////////////////////////////////////////////////
    case _actions__WEBPACK_IMPORTED_MODULE_1__.MOVE_SELECTED_POINTS:
      {
        return {
          ...state,
          polygons: [...state.polygons.slice(0, state.activeIndex), (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.movePolygonCoordinates)(state.polygons[state.activeIndex], state.selection, action.payload), ...state.polygons.slice(state.activeIndex + 1)]
        };
      }

    ///////////////////////////////////////////////////////////////////////////////////
    ///                              SELECTION CASES                                ///
    ///////////////////////////////////////////////////////////////////////////////////
    case _actions__WEBPACK_IMPORTED_MODULE_1__.SELECT_POINTS:
      {
        return {
          ...state,
          selection: new Set(action.payload)
        };
      }
    case _actions__WEBPACK_IMPORTED_MODULE_1__.ADD_POINT_TO_SELECTION:
      {
        return {
          ...state,
          selection: new Set([...state.selection.values(), ...action.payload])
        };
      }
    case _actions__WEBPACK_IMPORTED_MODULE_1__.REMOVE_POINT_FROM_SELECTION:
      {
        const selection = new Set(state.selection);
        selection.delete(action.payload);
        return {
          ...state,
          selection
        };
      }
    case _actions__WEBPACK_IMPORTED_MODULE_1__.SELECT_ALL_POINTS:
      {
        return {
          ...state,
          selection: new Set(state.polygons[state.activeIndex].map((_, i) => i))
        };
      }
    case _actions__WEBPACK_IMPORTED_MODULE_1__.DESELECT_ALL_POINTS:
      {
        return {
          ...state,
          selection: new Set()
        };
      }

    ///////////////////////////////////////////////////////////////////////////////////
    ///                              DELETE POINTS CASE                             ///
    ///////////////////////////////////////////////////////////////////////////////////
    case _actions__WEBPACK_IMPORTED_MODULE_1__.DELETE_POLYGON_POINTS:
      {
        return {
          ...state,
          polygons: [...state.polygons.slice(0, state.activeIndex), (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.removeSelectedPoints)(state.polygons[state.activeIndex], state.selection), ...state.polygons.slice(state.activeIndex + 1)],
          selection: new Set()
        };
      }

    ///////////////////////////////////////////////////////////////////////////////////
    ///                              ADD POINT CASE                                 ///
    ///////////////////////////////////////////////////////////////////////////////////
    case _actions__WEBPACK_IMPORTED_MODULE_1__.ADD_POINT:
      {
        return {
          ...state,
          polygons: [...state.polygons.slice(0, state.activeIndex), [...state.polygons[state.activeIndex], action.payload], ...state.polygons.slice(state.activeIndex + 1)],
          selection: new Set([state.polygons.length])
        };
      }
    case _actions__WEBPACK_IMPORTED_MODULE_1__.ADD_POINT_TO_EDGE:
      {
        return {
          ...state,
          polygons: [...state.polygons.slice(0, state.activeIndex), [...state.polygons[state.activeIndex].slice(0, action.payload.index + 1), action.payload.coordinate, ...state.polygons[state.activeIndex].slice(action.payload.index + 1)], ...state.polygons.slice(state.activeIndex + 1)],
          selection: new Set([action.payload.index])
        };
      }
    default:
      {
        return state;
      }
  }
};
const EDIT_HISTORY_LIMIT = 20;
const undoablePolygonEditReducer = (0,redux_undo__WEBPACK_IMPORTED_MODULE_0__["default"])(polygonEditReducer, {
  groupBy: (action, state, history) => {
    if (action.type === _actions__WEBPACK_IMPORTED_MODULE_1__.MOVE_SELECTED_POINTS) {
      return `${action.type}-${[...state.selection].sort().join('-')}`;
    }
    return null;
  },
  filter: (0,redux_undo__WEBPACK_IMPORTED_MODULE_0__.excludeAction)([_actions__WEBPACK_IMPORTED_MODULE_1__.SELECT_POINTS, _actions__WEBPACK_IMPORTED_MODULE_1__.ADD_POINT_TO_SELECTION, _actions__WEBPACK_IMPORTED_MODULE_1__.REMOVE_POINT_FROM_SELECTION, _actions__WEBPACK_IMPORTED_MODULE_1__.SELECT_ALL_POINTS, _actions__WEBPACK_IMPORTED_MODULE_1__.DESELECT_ALL_POINTS, _actions__WEBPACK_IMPORTED_MODULE_1__.CHANGE_POLYGON]),
  // see https://github.com/omnidan/redux-undo/issues/6#issuecomment-142089793
  limit: EDIT_HISTORY_LIMIT + 1,
  debug: false,
  syncFilter: true
});

/***/ }),

/***/ "./src/PolygonDraw/usePolygonEditor.ts":
/*!*********************************************!*\
  !*** ./src/PolygonDraw/usePolygonEditor.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   usePolygonEditor: () => (/* binding */ usePolygonEditor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_isequal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.isequal */ "./node_modules/lodash.isequal/index.js");
/* harmony import */ var lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isequal__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./actions */ "./src/PolygonDraw/actions.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reducer */ "./src/PolygonDraw/reducer.ts");
/* harmony import */ var _validators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./validators */ "./src/PolygonDraw/validators.ts");
/* harmony import */ var redux_undo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux-undo */ "./node_modules/redux-undo/dist/redux-undo.mjs");







const usePolygonEditor = (onChange = () => {}, polygons, activeIndex) => {
  const polygonList = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.ensurePolygonList)(polygons);
  const [selection, setSelection] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Set());
  const [editHistory, setEditHistory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({
    past: [],
    future: []
  });
  const state = {
    present: {
      polygons: polygonList,
      activeIndex: activeIndex,
      selection: selection
    },
    ...editHistory
  };
  const dispatch = action => {
    const {
      present: {
        polygons: newPolygons,
        selection: newSelection
      },
      ...rest
    } = (0,_reducer__WEBPACK_IMPORTED_MODULE_4__.undoablePolygonEditReducer)(state, action);
    setEditHistory(rest);
    if (!lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default()(selection, newSelection)) {
      setSelection(newSelection);
    }
    onChange((0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isPolygonList)(polygons) ? newPolygons : newPolygons[0], newPolygons.every(_validators__WEBPACK_IMPORTED_MODULE_5__.isValidPolygon));
  };
  const activePolygon = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => state.present.polygons[state.present.activeIndex], [state.present.polygons, state.present.activeIndex]);
  const polygonIsClosed = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isPolygonClosed)(activePolygon), [activePolygon]);
  const setPolygon = polygon => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.setPolygon(polygon));
  };
  const addPoint = coordinate => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.addPoint(coordinate));
  };
  const addPointToEdge = (coordinate, index) => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.addPointToEdge(coordinate, index));
  };
  const deselectAllPoints = () => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.deselectAllPoints());
  };
  const removePointFromSelection = index => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.removePointFromSelection(index));
  };
  const addPointsToSelection = indices => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.addPointsToSelection(indices));
  };
  const selectPoints = indices => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.selectPoints(indices));
  };
  const moveSelectedPoints = movement => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.moveSelectedPoints(movement));
  };
  const deletePolygonPoints = () => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.deletePolygonPoints());
  };
  const selectAllPoints = () => {
    dispatch(_actions__WEBPACK_IMPORTED_MODULE_2__.actions.selectAllPoints());
  };
  const undo = () => {
    dispatch(redux_undo__WEBPACK_IMPORTED_MODULE_6__.ActionCreators.undo());
  };
  const redo = () => {
    dispatch(redux_undo__WEBPACK_IMPORTED_MODULE_6__.ActionCreators.redo());
  };
  return {
    selection: state.present.selection,
    polygons: state.present.polygons,
    isPolygonClosed: polygonIsClosed,
    addPoint,
    addPointToEdge,
    deselectAllPoints,
    removePointFromSelection,
    addPointsToSelection,
    selectPoints,
    moveSelectedPoints,
    deletePolygonPoints,
    selectAllPoints,
    setPolygon,
    undo,
    redo
  };
};

/***/ }),

/***/ "./src/PolygonDraw/validators.ts":
/*!***************************************!*\
  !*** ./src/PolygonDraw/validators.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isValidPolygon: () => (/* binding */ isValidPolygon)
/* harmony export */ });
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");

const isValidPolygon = coordinates => !!coordinates && coordinates.length > 3 && (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.isPolygonClosed)(coordinates);

/***/ }),

/***/ "./src/actionUtils.ts":
/*!****************************!*\
  !*** ./src/actionUtils.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createAction: () => (/* binding */ createAction)
/* harmony export */ });
function createAction(type, payload) {
  return payload === undefined ? {
    type
  } : {
    type,
    payload
  };
}

/***/ }),

/***/ "./src/common/colors.tsx":
/*!*******************************!*\
  !*** ./src/common/colors.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ACTION_BLUE_900: () => (/* binding */ ACTION_BLUE_900),
/* harmony export */   AUTHENTIC_BLUE_1100: () => (/* binding */ AUTHENTIC_BLUE_1100),
/* harmony export */   AUTHENTIC_BLUE_200: () => (/* binding */ AUTHENTIC_BLUE_200),
/* harmony export */   AUTHENTIC_BLUE_350: () => (/* binding */ AUTHENTIC_BLUE_350),
/* harmony export */   AUTHENTIC_BLUE_50: () => (/* binding */ AUTHENTIC_BLUE_50),
/* harmony export */   AUTHENTIC_BLUE_550: () => (/* binding */ AUTHENTIC_BLUE_550),
/* harmony export */   AUTHENTIC_BLUE_900: () => (/* binding */ AUTHENTIC_BLUE_900),
/* harmony export */   FREEDOM_RED_900: () => (/* binding */ FREEDOM_RED_900),
/* harmony export */   NEGATIVE_ORANGE_50: () => (/* binding */ NEGATIVE_ORANGE_50),
/* harmony export */   NEGATIVE_ORANGE_900: () => (/* binding */ NEGATIVE_ORANGE_900),
/* harmony export */   POSITIVE_GREEN_50: () => (/* binding */ POSITIVE_GREEN_50),
/* harmony export */   POSITIVE_GREEN_900: () => (/* binding */ POSITIVE_GREEN_900),
/* harmony export */   WHITE: () => (/* binding */ WHITE)
/* harmony export */ });
const ACTION_BLUE_900 = '#096bdb';
const AUTHENTIC_BLUE_1100 = '#000f1f';
const AUTHENTIC_BLUE_900 = '#001e3e';
const AUTHENTIC_BLUE_550 = '#637689';
const AUTHENTIC_BLUE_350 = '#9CA7B4';
const AUTHENTIC_BLUE_200 = '#c6cdd4';
const AUTHENTIC_BLUE_50 = '#f1f7fd';
const FREEDOM_RED_900 = '#ff0a2b';
const NEGATIVE_ORANGE_50 = '#fff6f1';
const NEGATIVE_ORANGE_900 = '#ff5e05';
const POSITIVE_GREEN_50 = '#f1faf5';
const POSITIVE_GREEN_900 = '#069d4f';
const WHITE = '#ffffff';

/***/ }),

/***/ "./src/common/components/Button.tsx":
/*!******************************************!*\
  !*** ./src/common/components/Button.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Button: () => (/* binding */ Button)
/* harmony export */ });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");


const Button = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].button`
    border: 1px solid transparent;
    border-radius: 4px;
    cursor: pointer;
    height: 48px;
    font-size: 16px;
    min-width: 100px;
    padding: 0 16px;
    text-align: center;
    transition: background ease 216ms, border-color ease 216ms;

    ${({
  secondary
}) => secondary ? (0,styled_components__WEBPACK_IMPORTED_MODULE_0__.css)`
                  background: ${_colors__WEBPACK_IMPORTED_MODULE_1__.WHITE};
                  border-color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_200};
                  color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_900};

                  &:hover {
                      background: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_50};
                  }

                  &:disabled {
                      color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_200};
                      background: ${_colors__WEBPACK_IMPORTED_MODULE_1__.WHITE};
                      border-color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_200};
                  }
              ` : (0,styled_components__WEBPACK_IMPORTED_MODULE_0__.css)`
                  background: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_900};
                  border-color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_900};
                  color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.WHITE};

                  &:hover {
                      background: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_1100};
                      border-color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_1100};
                  }

                  &:disabled {
                      color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.WHITE};
                      background: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_200};
                      border-color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_200};
                  }
              `}
`;
try {
    // @ts-ignore
    Button.displayName = "Button";
    // @ts-ignore
    Button.__docgenInfo = { "description": "", "displayName": "Button", "props": { "ref": { "defaultValue": null, "description": "", "name": "ref", "required": false, "type": { "name": "((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null" } }, "secondary": { "defaultValue": null, "description": "", "name": "secondary", "required": false, "type": { "name": "boolean" } }, "theme": { "defaultValue": null, "description": "", "name": "theme", "required": false, "type": { "name": "any" } }, "as": { "defaultValue": null, "description": "", "name": "as", "required": false, "type": { "name": "undefined" } }, "forwardedAs": { "defaultValue": null, "description": "", "name": "forwardedAs", "required": false, "type": { "name": "undefined" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/Button.tsx#Button"] = { docgenInfo: Button.__docgenInfo, name: "Button", path: "src/common/components/Button.tsx#Button" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/ButtonGroup.tsx":
/*!***********************************************!*\
  !*** ./src/common/components/ButtonGroup.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ButtonGroup: () => (/* binding */ ButtonGroup)
/* harmony export */ });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");

const ButtonGroup = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div`
    display: flex;

    & > button:not(:last-child) {
        margin-right: 8px;
    }
`;
try {
    // @ts-ignore
    ButtonGroup.displayName = "ButtonGroup";
    // @ts-ignore
    ButtonGroup.__docgenInfo = { "description": "", "displayName": "ButtonGroup", "props": { "ref": { "defaultValue": null, "description": "", "name": "ref", "required": false, "type": { "name": "((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null" } }, "theme": { "defaultValue": null, "description": "", "name": "theme", "required": false, "type": { "name": "any" } }, "as": { "defaultValue": null, "description": "", "name": "as", "required": false, "type": { "name": "undefined" } }, "forwardedAs": { "defaultValue": null, "description": "", "name": "forwardedAs", "required": false, "type": { "name": "undefined" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/ButtonGroup.tsx#ButtonGroup"] = { docgenInfo: ButtonGroup.__docgenInfo, name: "ButtonGroup", path: "src/common/components/ButtonGroup.tsx#ButtonGroup" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/CheckCircleSolidIcon.tsx":
/*!********************************************************!*\
  !*** ./src/common/components/CheckCircleSolidIcon.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CheckCircleSolidIcon: () => (/* binding */ CheckCircleSolidIcon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const CheckCircleSolidIcon = ({
  color = _colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
    color: color,
    ...props,
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
      d: "M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm3.898 6.293l-4.912 4.912-2.283-2.258-1.406 1.422 3.696 3.657 6.32-6.319-1.415-1.414z",
      fill: "currentColor",
      fillRule: "nonzero"
    })
  });
};
CheckCircleSolidIcon.displayName = "CheckCircleSolidIcon";
try {
    // @ts-ignore
    CheckCircleSolidIcon.displayName = "CheckCircleSolidIcon";
    // @ts-ignore
    CheckCircleSolidIcon.__docgenInfo = { "description": "", "displayName": "CheckCircleSolidIcon", "props": { "className": { "defaultValue": null, "description": "", "name": "className", "required": false, "type": { "name": "string" } }, "color": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "color", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/CheckCircleSolidIcon.tsx#CheckCircleSolidIcon"] = { docgenInfo: CheckCircleSolidIcon.__docgenInfo, name: "CheckCircleSolidIcon", path: "src/common/components/CheckCircleSolidIcon.tsx#CheckCircleSolidIcon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/ChevronDownIcon.tsx":
/*!***************************************************!*\
  !*** ./src/common/components/ChevronDownIcon.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChevronDownIcon: () => (/* binding */ ChevronDownIcon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const ChevronDownIcon = props => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
    color: _colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    ...props,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
      d: "M12 13.726l7-6.175v2.676l-7 6.222-7-6.222V7.55z",
      fill: "currentColor",
      fillRule: "nonzero"
    })
  });
};
ChevronDownIcon.displayName = "ChevronDownIcon";
try {
    // @ts-ignore
    ChevronDownIcon.displayName = "ChevronDownIcon";
    // @ts-ignore
    ChevronDownIcon.__docgenInfo = { "description": "", "displayName": "ChevronDownIcon", "props": { "className": { "defaultValue": null, "description": "", "name": "className", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/ChevronDownIcon.tsx#ChevronDownIcon"] = { docgenInfo: ChevronDownIcon.__docgenInfo, name: "ChevronDownIcon", path: "src/common/components/ChevronDownIcon.tsx#ChevronDownIcon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/CloseCircleSolidIcon.tsx":
/*!********************************************************!*\
  !*** ./src/common/components/CloseCircleSolidIcon.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloseCircleSolidIcon: () => (/* binding */ CloseCircleSolidIcon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const CloseCircleSolidIcon = ({
  color = _colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
    color: color,
    ...props,
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
      d: "M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm2.364 6l-2.475 2.474L9.414 8 8 9.414l2.474 2.475L8 14.364l1.414 1.414 2.475-2.475 2.475 2.475 1.414-1.414-2.475-2.475 2.475-2.475L14.364 8z",
      fill: "currentColor",
      fillRule: "nonzero"
    })
  });
};
CloseCircleSolidIcon.displayName = "CloseCircleSolidIcon";
try {
    // @ts-ignore
    CloseCircleSolidIcon.displayName = "CloseCircleSolidIcon";
    // @ts-ignore
    CloseCircleSolidIcon.__docgenInfo = { "description": "", "displayName": "CloseCircleSolidIcon", "props": { "className": { "defaultValue": null, "description": "", "name": "className", "required": false, "type": { "name": "string" } }, "color": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "color", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/CloseCircleSolidIcon.tsx#CloseCircleSolidIcon"] = { docgenInfo: CloseCircleSolidIcon.__docgenInfo, name: "CloseCircleSolidIcon", path: "src/common/components/CloseCircleSolidIcon.tsx#CloseCircleSolidIcon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/CloseIcon.tsx":
/*!*********************************************!*\
  !*** ./src/common/components/CloseIcon.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloseIcon: () => (/* binding */ CloseIcon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const CloseIcon = props => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
    color: _colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    ...props,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
      d: "M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",
      fill: "currentColor",
      fillRule: "nonzero"
    })
  });
};
CloseIcon.displayName = "CloseIcon";
try {
    // @ts-ignore
    CloseIcon.displayName = "CloseIcon";
    // @ts-ignore
    CloseIcon.__docgenInfo = { "description": "", "displayName": "CloseIcon", "props": { "onClick": { "defaultValue": null, "description": "", "name": "onClick", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/CloseIcon.tsx#CloseIcon"] = { docgenInfo: CloseIcon.__docgenInfo, name: "CloseIcon", path: "src/common/components/CloseIcon.tsx#CloseIcon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/Headline.tsx":
/*!********************************************!*\
  !*** ./src/common/components/Headline.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Headline: () => (/* binding */ Headline)
/* harmony export */ });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");


const Headline = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].h2`
    color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_900};
    font-size: 32px;
    margin-bottom: 32px;
`;
try {
    // @ts-ignore
    Headline.displayName = "Headline";
    // @ts-ignore
    Headline.__docgenInfo = { "description": "", "displayName": "Headline", "props": { "ref": { "defaultValue": null, "description": "", "name": "ref", "required": false, "type": { "name": "((instance: HTMLHeadingElement | null) => void) | RefObject<HTMLHeadingElement> | null" } }, "theme": { "defaultValue": null, "description": "", "name": "theme", "required": false, "type": { "name": "any" } }, "as": { "defaultValue": null, "description": "", "name": "as", "required": false, "type": { "name": "undefined" } }, "forwardedAs": { "defaultValue": null, "description": "", "name": "forwardedAs", "required": false, "type": { "name": "undefined" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/Headline.tsx#Headline"] = { docgenInfo: Headline.__docgenInfo, name: "Headline", path: "src/common/components/Headline.tsx#Headline" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/InfoCircleSolidIcon.tsx":
/*!*******************************************************!*\
  !*** ./src/common/components/InfoCircleSolidIcon.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InfoCircleSolidIcon: () => (/* binding */ InfoCircleSolidIcon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");



const InfoCircleSolidIcon = ({
  color = _colors__WEBPACK_IMPORTED_MODULE_2__.AUTHENTIC_BLUE_900,
  ...props
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
    color: color,
    ...props,
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
      d: "M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm1 8.4h-2v6h2v-6zm-1-3.6a1.2 1.2 0 100 2.4 1.2 1.2 0 000-2.4z",
      fill: "currentColor",
      fillRule: "nonzero"
    })
  });
};
InfoCircleSolidIcon.displayName = "InfoCircleSolidIcon";
try {
    // @ts-ignore
    InfoCircleSolidIcon.displayName = "InfoCircleSolidIcon";
    // @ts-ignore
    InfoCircleSolidIcon.__docgenInfo = { "description": "", "displayName": "InfoCircleSolidIcon", "props": { "className": { "defaultValue": null, "description": "", "name": "className", "required": false, "type": { "name": "string" } }, "color": { "defaultValue": { value: "#001e3e" }, "description": "", "name": "color", "required": false, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/InfoCircleSolidIcon.tsx#InfoCircleSolidIcon"] = { docgenInfo: InfoCircleSolidIcon.__docgenInfo, name: "InfoCircleSolidIcon", path: "src/common/components/InfoCircleSolidIcon.tsx#InfoCircleSolidIcon" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/Modal.tsx":
/*!*****************************************!*\
  !*** ./src/common/components/Modal.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Modal: () => (/* binding */ Modal),
/* harmony export */   useDismiss: () => (/* binding */ useDismiss)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");
/* harmony import */ var _CloseIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CloseIcon */ "./src/common/components/CloseIcon.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");







const Dimming = styled_components__WEBPACK_IMPORTED_MODULE_3__["default"].div`
    background-color: ${_colors__WEBPACK_IMPORTED_MODULE_4__.AUTHENTIC_BLUE_1100};
    height: 100%;
    left: 0;
    opacity: 0.6;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
`;
const TopRightCloseIcon = (0,styled_components__WEBPACK_IMPORTED_MODULE_3__["default"])((0,_CloseIcon__WEBPACK_IMPORTED_MODULE_1__.CloseIcon))`
    position: absolute;
    top: 8px;
    right: 8px;
    cursor: pointer;
    z-index: 1050;
`;
const Card = styled_components__WEBPACK_IMPORTED_MODULE_3__["default"].div`
    background-color: white;
    border-radius: 4px;
    box-shadow: 0 0 6px 2px rgba(0, 0, 0, 0.12);
    box-sizing: border-box;
    left: 50%;
    max-height: calc(100% - 16px);
    overflow: auto;
    padding: 40px;
    position: fixed;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 630px;
    z-index: 1050;
`;
// tslint:disable-next-line: no-empty
const DismissContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext(() => {});
const useDismiss = () => (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DismissContext);
const Modal = ({
  children,
  onClose
}) => {
  const dismiss = () => {
    // hook (not a react hook) used for animations
    onClose();
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Dimming, {
      onClick: dismiss
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Card, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TopRightCloseIcon, {
        onClick: dismiss
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DismissContext.Provider, {
        value: dismiss,
        children: children
      })]
    })]
  });
};
try {
    // @ts-ignore
    Modal.displayName = "Modal";
    // @ts-ignore
    Modal.__docgenInfo = { "description": "", "displayName": "Modal", "props": { "onClose": { "defaultValue": null, "description": "", "name": "onClose", "required": true, "type": { "name": "() => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/Modal.tsx#Modal"] = { docgenInfo: Modal.__docgenInfo, name: "Modal", path: "src/common/components/Modal.tsx#Modal" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/Select.tsx":
/*!******************************************!*\
  !*** ./src/common/components/Select.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Select: () => (/* binding */ Select)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");
/* harmony import */ var _ChevronDownIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChevronDownIcon */ "./src/common/components/ChevronDownIcon.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");






const Container = styled_components__WEBPACK_IMPORTED_MODULE_3__["default"].div`
    box-sizing: border-box;
    display: inline-block;
    margin-bottom: 16px;
    position: relative;
`;
const Label = styled_components__WEBPACK_IMPORTED_MODULE_3__["default"].label`
    background: white;
    color: ${_colors__WEBPACK_IMPORTED_MODULE_4__.AUTHENTIC_BLUE_550};
    font-size: 10px;
    left: 8px;
    transform: translateY(-50%);
    padding: 0 4px;
    position: absolute;
`;
const Input = styled_components__WEBPACK_IMPORTED_MODULE_3__["default"].select`
    appearance: none;
    background: white;
    border: 1px solid ${_colors__WEBPACK_IMPORTED_MODULE_4__.AUTHENTIC_BLUE_200};
    border-radius: 4px;
    box-sizing: border-box;
    font-size: 16px;
    height: 48px;
    margin: 0;
    padding: 12px;
    transition: box-shadow 100ms, border 100ms;
    outline: none;
    width: 100%;

    &:active,
    &:focus {
        border-color: ${_colors__WEBPACK_IMPORTED_MODULE_4__.ACTION_BLUE_900};
        box-shadow: inset 0 0 0 1px ${_colors__WEBPACK_IMPORTED_MODULE_4__.ACTION_BLUE_900};
    }
`;
const SelectIcon = (0,styled_components__WEBPACK_IMPORTED_MODULE_3__["default"])((0,_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_1__.ChevronDownIcon))`
    pointer-events: none;
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
`;

// FIXME: label is missing an active state, should be same color as border
const Select = ({
  children,
  id,
  label,
  ...props
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Container, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Label, {
      htmlFor: id,
      children: label
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Input, {
      id: id,
      ...props,
      children: children
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectIcon, {})]
  });
};
Select.displayName = "Select";
try {
    // @ts-ignore
    Select.displayName = "Select";
    // @ts-ignore
    Select.__docgenInfo = { "description": "", "displayName": "Select", "props": { "id": { "defaultValue": null, "description": "", "name": "id", "required": true, "type": { "name": "string" } }, "label": { "defaultValue": null, "description": "", "name": "label", "required": true, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/Select.tsx#Select"] = { docgenInfo: Select.__docgenInfo, name: "Select", path: "src/common/components/Select.tsx#Select" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/Text.tsx":
/*!****************************************!*\
  !*** ./src/common/components/Text.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Text: () => (/* binding */ Text)
/* harmony export */ });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");


const Text = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].p`
    color: ${({
  weak
}) => weak ? _colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_550 : _colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_1100};
    font-size: 14px;

    a,
    a:visited {
        color: ${_colors__WEBPACK_IMPORTED_MODULE_1__.ACTION_BLUE_900};
        font-weight: bold;
        text-decoration: none;
    }
`;
try {
    // @ts-ignore
    Text.displayName = "Text";
    // @ts-ignore
    Text.__docgenInfo = { "description": "", "displayName": "Text", "props": { "ref": { "defaultValue": null, "description": "", "name": "ref", "required": false, "type": { "name": "((instance: HTMLParagraphElement | null) => void) | RefObject<HTMLParagraphElement> | null" } }, "weak": { "defaultValue": null, "description": "", "name": "weak", "required": false, "type": { "name": "boolean" } }, "theme": { "defaultValue": null, "description": "", "name": "theme", "required": false, "type": { "name": "any" } }, "as": { "defaultValue": null, "description": "", "name": "as", "required": false, "type": { "name": "undefined" } }, "forwardedAs": { "defaultValue": null, "description": "", "name": "forwardedAs", "required": false, "type": { "name": "undefined" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/Text.tsx#Text"] = { docgenInfo: Text.__docgenInfo, name: "Text", path: "src/common/components/Text.tsx#Text" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/components/Textarea.tsx":
/*!********************************************!*\
  !*** ./src/common/components/Textarea.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Textarea: () => (/* binding */ Textarea)
/* harmony export */ });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../colors */ "./src/common/colors.tsx");


const Textarea = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].textarea`
    appearance: none;
    background: white;
    border: 1px solid ${_colors__WEBPACK_IMPORTED_MODULE_1__.AUTHENTIC_BLUE_200};
    border-radius: 4px;
    box-sizing: border-box;
    font-size: 16px;
    min-height: 200px;
    padding: 12px 12px 0;
    resize: none;
    transition: box-shadow 100ms, border 100ms;
    outline: none;
    white-space: pre;
    width: 100%;
`;
try {
    // @ts-ignore
    Textarea.displayName = "Textarea";
    // @ts-ignore
    Textarea.__docgenInfo = { "description": "", "displayName": "Textarea", "props": { "ref": { "defaultValue": null, "description": "", "name": "ref", "required": false, "type": { "name": "((instance: HTMLTextAreaElement | null) => void) | RefObject<HTMLTextAreaElement> | null" } }, "theme": { "defaultValue": null, "description": "", "name": "theme", "required": false, "type": { "name": "any" } }, "as": { "defaultValue": null, "description": "", "name": "as", "required": false, "type": { "name": "undefined" } }, "forwardedAs": { "defaultValue": null, "description": "", "name": "forwardedAs", "required": false, "type": { "name": "undefined" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/common/components/Textarea.tsx#Textarea"] = { docgenInfo: Textarea.__docgenInfo, name: "Textarea", path: "src/common/components/Textarea.tsx#Textarea" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/common/helpers/prettyPrint.ts":
/*!*******************************************!*\
  !*** ./src/common/helpers/prettyPrint.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   prettyPrint: () => (/* binding */ prettyPrint)
/* harmony export */ });
// tslint:disable-next-line: no-any
const prettyPrint = value => JSON.stringify(value, null, 2);

/***/ }),

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LABELS: () => (/* binding */ LABELS),
/* harmony export */   LEAFLET: () => (/* binding */ LEAFLET),
/* harmony export */   MAP: () => (/* binding */ MAP)
/* harmony export */ });
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common/colors */ "./src/common/colors.tsx");

const LABELS = {
  DRAW: 'Draw',
  PEN: 'Pen',
  ADD_VERTEX: 'Vertex',
  DELETE: 'Delete',
  FOCUS: 'Focus',
  EXPORT: 'Export',
  IMPORT: 'Import'
};
const LEAFLET = {
  TILE_SERVER_URL: 'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png'
};
const MAP = {
  POLYGON_ACTIVE_COLOR: _common_colors__WEBPACK_IMPORTED_MODULE_0__.ACTION_BLUE_900,
  RECTANGLE_SELECTION_COLOR: _common_colors__WEBPACK_IMPORTED_MODULE_0__.AUTHENTIC_BLUE_350,
  POLYGON_INACTIVE_COLOR: _common_colors__WEBPACK_IMPORTED_MODULE_0__.AUTHENTIC_BLUE_550,
  VERTEX_FILL_COLOR: _common_colors__WEBPACK_IMPORTED_MODULE_0__.WHITE,
  BOUNDARY_COLOR: _common_colors__WEBPACK_IMPORTED_MODULE_0__.AUTHENTIC_BLUE_550,
  ERROR_BOUNDARY_COLOR: _common_colors__WEBPACK_IMPORTED_MODULE_0__.FREEDOM_RED_900,
  BORDER_WIDTH: 2,
  DEFAULT_CENTER: [53.397, 10.4],
  DEFAULT_ZOOM: 12,
  /**
   * This defines a polygon that encompasses the whole world. It can be used to
   * make an subtractive effect if you lay over another polygon. See boundary
   * polygon.
   */
  WORLD_LAT_LNG_COORDINATES: [{
    lat: -85.1054596961173,
    lng: -180
  }, {
    lat: 85.1054596961173,
    lng: -180
  }, {
    lat: 85.1054596961173,
    lng: 180
  }, {
    lat: -85.1054596961173,
    lng: 180
  }, {
    lat: -85.1054596961173,
    lng: 0
  }],
  WORLD_COORDINATES: [{
    latitude: -85.1054596961173,
    longitude: -180
  }, {
    latitude: 85.1054596961173,
    longitude: -180
  }, {
    latitude: 85.1054596961173,
    longitude: 180
  }, {
    latitude: -85.1054596961173,
    longitude: 180
  }, {
    latitude: -85.1054596961173,
    longitude: 0
  }]
};

/***/ }),

/***/ "./src/conversion/ExportPolygonForm.tsx":
/*!**********************************************!*\
  !*** ./src/conversion/ExportPolygonForm.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportPolygonForm: () => (/* binding */ ExportPolygonForm)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _ActionBar_Icons_Export__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionBar/Icons/Export */ "./src/ActionBar/Icons/Export.tsx");
/* harmony import */ var _common_components_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/components/Button */ "./src/common/components/Button.tsx");
/* harmony import */ var _common_components_ButtonGroup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/components/ButtonGroup */ "./src/common/components/ButtonGroup.tsx");
/* harmony import */ var _common_components_Headline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/components/Headline */ "./src/common/components/Headline.tsx");
/* harmony import */ var _common_components_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/components/Modal */ "./src/common/components/Modal.tsx");
/* harmony import */ var _common_components_Select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/components/Select */ "./src/common/components/Select.tsx");
/* harmony import */ var _common_components_Textarea__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/components/Textarea */ "./src/common/components/Textarea.tsx");
/* harmony import */ var _common_components_Text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/components/Text */ "./src/common/components/Text.tsx");
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./format */ "./src/conversion/format/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");














const Form = styled_components__WEBPACK_IMPORTED_MODULE_11__["default"].form`
    display: flex;
    flex-direction: column;
`;
const Description = (0,styled_components__WEBPACK_IMPORTED_MODULE_11__["default"])((0,_common_components_Text__WEBPACK_IMPORTED_MODULE_8__.Text)).attrs(() => ({
  weak: true
}))`
    margin-bottom: 24px;
`;
const rippleAnimation = (0,styled_components__WEBPACK_IMPORTED_MODULE_11__.keyframes)`
    0% {
        opacity: 0.6;
    }
    50% {
        opacity: 0.4;
    }
    100% {
        opacity: 0.6;
    }
`;
const CopyOverlay = styled_components__WEBPACK_IMPORTED_MODULE_11__["default"].div`
    align-items: center;
    background-color: ${_common_colors__WEBPACK_IMPORTED_MODULE_12__.AUTHENTIC_BLUE_1100};
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    height: 200px;
    justify-content: center;
    margin-bottom: calc(24px - 200px);
    position: relative;
    opacity: 0;
    top: -200px;
    transition: opacity 0.1s linear;

    ${({
  isActive
}) => isActive ? (0,styled_components__WEBPACK_IMPORTED_MODULE_11__.css)`
                  animation: ${rippleAnimation} 0.4s ease-out;
              ` : ''}

    &:hover {
        background-color: ${_common_colors__WEBPACK_IMPORTED_MODULE_12__.AUTHENTIC_BLUE_1100};
        opacity: 0.6;
    }
`;
const CopyOverlayLabel = styled_components__WEBPACK_IMPORTED_MODULE_11__["default"].p`
    color: ${_common_colors__WEBPACK_IMPORTED_MODULE_12__.WHITE};
    font-size: 16px;
`;
const CopyTextarea = (0,styled_components__WEBPACK_IMPORTED_MODULE_11__["default"])((0,_common_components_Textarea__WEBPACK_IMPORTED_MODULE_7__.Textarea))`
    height: 200px;
    z-index: -1;
`;
const ExportPolygonForm = ({
  polygon,
  onSubmit
}) => {
  const [copyButtonClicked, setCopyButtonClicked] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [copyOverlayIsActive, setCopyOverlayIsActive] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [copyOverlayClicked, setCopyOverlayClicked] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const dismiss = (0,_common_components_Modal__WEBPACK_IMPORTED_MODULE_5__.useDismiss)();
  const [outputFormat, setOutputFormat] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_format__WEBPACK_IMPORTED_MODULE_9__.format.geojson);
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => outputFormat.serialize(polygon), [polygon, outputFormat.serialize]);
  const handleOutputFormatChanged = e => {
    const selectedValue = e.target.value;
    setOutputFormat(_format__WEBPACK_IMPORTED_MODULE_9__.format[selectedValue]);
  };
  const handleCopyOverlayClicked = () => {
    if (!copyOverlayClicked) {
      setCopyOverlayIsActive(true);
      setCopyOverlayClicked(true);
      setTimeout(() => setCopyOverlayClicked(false), 1000);
      onSubmit(value);
    }
  };
  const handleOnSubmit = e => {
    e.preventDefault();
    if (!copyButtonClicked) {
      setCopyButtonClicked(true);
      setTimeout(() => setCopyButtonClicked(false), 1000);
    }
    onSubmit(value);
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(Form, {
    onSubmit: handleOnSubmit,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_components_Headline__WEBPACK_IMPORTED_MODULE_4__.Headline, {
      children: "Export Polygon"
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_components_Select__WEBPACK_IMPORTED_MODULE_6__.Select, {
      id: "fn-export-format-select",
      label: "Export format",
      value: outputFormat.name,
      onChange: handleOutputFormatChanged,
      children: Object.values(_format__WEBPACK_IMPORTED_MODULE_9__.format).map(f => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option", {
        value: f.name,
        children: f.displayName
      }, f.name))
    }), outputFormat.description && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(Description, {
      dangerouslySetInnerHTML: {
        __html: outputFormat.description
      }
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(CopyTextarea, {
      value: value,
      readOnly: true
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(CopyOverlay, {
      isActive: copyOverlayIsActive,
      onClick: handleCopyOverlayClicked,
      onAnimationEnd: () => setCopyOverlayIsActive(false),
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_ActionBar_Icons_Export__WEBPACK_IMPORTED_MODULE_1__.Export, {
        iconColor: _common_colors__WEBPACK_IMPORTED_MODULE_12__.WHITE,
        height: 48,
        width: 48
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(CopyOverlayLabel, {
        children: copyOverlayClicked ? 'Copied!' : 'Copy to clipboard'
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(_common_components_ButtonGroup__WEBPACK_IMPORTED_MODULE_3__.ButtonGroup, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {
        children: copyButtonClicked ? 'Copied!' : 'Copy code'
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {
        type: "button",
        secondary: true,
        onClick: dismiss,
        children: "Close"
      })]
    })]
  });
};
ExportPolygonForm.displayName = "ExportPolygonForm";
try {
    // @ts-ignore
    ExportPolygonForm.displayName = "ExportPolygonForm";
    // @ts-ignore
    ExportPolygonForm.__docgenInfo = { "description": "", "displayName": "ExportPolygonForm", "props": { "polygon": { "defaultValue": null, "description": "", "name": "polygon", "required": true, "type": { "name": "Coordinate[]" } }, "onSubmit": { "defaultValue": null, "description": "", "name": "onSubmit", "required": true, "type": { "name": "(value: string) => void" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/conversion/ExportPolygonForm.tsx#ExportPolygonForm"] = { docgenInfo: ExportPolygonForm.__docgenInfo, name: "ExportPolygonForm", path: "src/conversion/ExportPolygonForm.tsx#ExportPolygonForm" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/conversion/ImportPolygonForm.tsx":
/*!**********************************************!*\
  !*** ./src/conversion/ImportPolygonForm.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImportPolygonForm: () => (/* binding */ ImportPolygonForm)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _common_components_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/components/Button */ "./src/common/components/Button.tsx");
/* harmony import */ var _common_components_ButtonGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/components/ButtonGroup */ "./src/common/components/ButtonGroup.tsx");
/* harmony import */ var _common_components_Headline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/components/Headline */ "./src/common/components/Headline.tsx");
/* harmony import */ var _common_components_Textarea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/components/Textarea */ "./src/common/components/Textarea.tsx");
/* harmony import */ var _common_components_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/components/Modal */ "./src/common/components/Modal.tsx");
/* harmony import */ var _ImportPolygonStatus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ImportPolygonStatus */ "./src/conversion/ImportPolygonStatus.tsx");
/* harmony import */ var _useDeserialize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useDeserialize */ "./src/conversion/useDeserialize.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");











const Form = styled_components__WEBPACK_IMPORTED_MODULE_9__["default"].form`
    display: flex;
    flex-direction: column;
`;
const StyledTextarea = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__["default"])((0,_common_components_Textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea))`
    margin-bottom: 24px;
`;
const ImportPolygonForm = ({
  onSubmit = () => {}
}) => {
  const dismiss = (0,_common_components_Modal__WEBPACK_IMPORTED_MODULE_5__.useDismiss)();
  const [text, setText] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_ImportPolygonStatus__WEBPACK_IMPORTED_MODULE_6__.Status.EMPTY);
  const deserialized = (0,_useDeserialize__WEBPACK_IMPORTED_MODULE_7__.useDeserialize)(text);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (text === '') {
      setStatus(_ImportPolygonStatus__WEBPACK_IMPORTED_MODULE_6__.Status.EMPTY);
      return;
    }
    if (deserialized.valid) {
      setStatus(_ImportPolygonStatus__WEBPACK_IMPORTED_MODULE_6__.Status.VALID);
      return;
    }
    setStatus(_ImportPolygonStatus__WEBPACK_IMPORTED_MODULE_6__.Status.INVALID);
  }, [text]);
  const handleOnSubmit = e => {
    e.preventDefault();
    if (deserialized.valid) {
      onSubmit(deserialized.coordinates);
      dismiss();
    }
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(Form, {
    onSubmit: handleOnSubmit,
    name: "Import Polygon",
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_common_components_Headline__WEBPACK_IMPORTED_MODULE_3__.Headline, {
      children: "Import Polygon"
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_ImportPolygonStatus__WEBPACK_IMPORTED_MODULE_6__.ImportPolygonStatus, {
      status: status
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(StyledTextarea, {
      placeholder: "Insert code here",
      value: text,
      onChange: e => setText(e.target.value)
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_common_components_ButtonGroup__WEBPACK_IMPORTED_MODULE_2__.ButtonGroup, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_common_components_Button__WEBPACK_IMPORTED_MODULE_1__.Button, {
        type: "submit",
        disabled: !deserialized.valid,
        children: "Import"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_common_components_Button__WEBPACK_IMPORTED_MODULE_1__.Button, {
        type: "button",
        secondary: true,
        onClick: dismiss,
        children: "Close"
      })]
    })]
  });
};
ImportPolygonForm.displayName = "ImportPolygonForm";
try {
    // @ts-ignore
    ImportPolygonForm.displayName = "ImportPolygonForm";
    // @ts-ignore
    ImportPolygonForm.__docgenInfo = { "description": "", "displayName": "ImportPolygonForm", "props": { "onSubmit": { "defaultValue": { value: "() => {}" }, "description": "", "name": "onSubmit", "required": false, "type": { "name": "((coordinates: Coordinate[]) => void)" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/conversion/ImportPolygonForm.tsx#ImportPolygonForm"] = { docgenInfo: ImportPolygonForm.__docgenInfo, name: "ImportPolygonForm", path: "src/conversion/ImportPolygonForm.tsx#ImportPolygonForm" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/conversion/ImportPolygonStatus.tsx":
/*!************************************************!*\
  !*** ./src/conversion/ImportPolygonStatus.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImportPolygonStatus: () => (/* binding */ ImportPolygonStatus),
/* harmony export */   Status: () => (/* binding */ Status)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _common_colors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/colors */ "./src/common/colors.tsx");
/* harmony import */ var _common_components_CheckCircleSolidIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/components/CheckCircleSolidIcon */ "./src/common/components/CheckCircleSolidIcon.tsx");
/* harmony import */ var _common_components_CloseCircleSolidIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/components/CloseCircleSolidIcon */ "./src/common/components/CloseCircleSolidIcon.tsx");
/* harmony import */ var _common_components_InfoCircleSolidIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/components/InfoCircleSolidIcon */ "./src/common/components/InfoCircleSolidIcon.tsx");
/* harmony import */ var _common_components_Text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/components/Text */ "./src/common/components/Text.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");









let Status = /*#__PURE__*/function (Status) {
  Status[Status["EMPTY"] = 0] = "EMPTY";
  Status[Status["VALID"] = 1] = "VALID";
  Status[Status["INVALID"] = 2] = "INVALID";
  return Status;
}({});
const Container = styled_components__WEBPACK_IMPORTED_MODULE_6__["default"].div`
    background-color: ${({
  status
}) => {
  switch (status) {
    case Status.EMPTY:
      return _common_colors__WEBPACK_IMPORTED_MODULE_7__.AUTHENTIC_BLUE_50;
    case Status.VALID:
      return _common_colors__WEBPACK_IMPORTED_MODULE_7__.POSITIVE_GREEN_50;
    case Status.INVALID:
      return _common_colors__WEBPACK_IMPORTED_MODULE_7__.NEGATIVE_ORANGE_50;
  }
}};
    border-radius: 8px;
    display: flex;
    margin-bottom: 24px;
    padding: 8px;
`;
const ContentWrapper = styled_components__WEBPACK_IMPORTED_MODULE_6__["default"].div`
    margin-left: 8px;
`;
const Title = (0,styled_components__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_common_components_Text__WEBPACK_IMPORTED_MODULE_4__.Text))`
    font-weight: bold;
`;
const Description = (0,styled_components__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_common_components_Text__WEBPACK_IMPORTED_MODULE_4__.Text))`
    font-size: 12px;
`;
const ImportPolygonStatus = ({
  status
}) => {
  let data;
  switch (status) {
    case Status.EMPTY:
      {
        data = {
          title: 'Enter polygon coordinates',
          description: 'Only GeoJSON is supported at the moment.',
          icon: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_common_components_InfoCircleSolidIcon__WEBPACK_IMPORTED_MODULE_3__.InfoCircleSolidIcon, {
            color: _common_colors__WEBPACK_IMPORTED_MODULE_7__.ACTION_BLUE_900
          })
        };
        break;
      }
    case Status.VALID:
      {
        data = {
          title: 'Format detected',
          description: 'GeoJSON. Valid data.',
          icon: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_common_components_CheckCircleSolidIcon__WEBPACK_IMPORTED_MODULE_1__.CheckCircleSolidIcon, {
            color: _common_colors__WEBPACK_IMPORTED_MODULE_7__.POSITIVE_GREEN_900
          })
        };
        break;
      }
    case Status.INVALID:
      {
        data = {
          title: 'Invalid format',
          description: 'Please make sure that the entered polygon is valid GeoJSON.',
          icon: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_common_components_CloseCircleSolidIcon__WEBPACK_IMPORTED_MODULE_2__.CloseCircleSolidIcon, {
            color: _common_colors__WEBPACK_IMPORTED_MODULE_7__.NEGATIVE_ORANGE_900
          })
        };
        break;
      }
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(Container, {
    status: status,
    children: [data.icon, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(ContentWrapper, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Title, {
        children: data.title
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Description, {
        children: data.description
      })]
    })]
  });
};
ImportPolygonStatus.displayName = "ImportPolygonStatus";
try {
    // @ts-ignore
    ImportPolygonStatus.displayName = "ImportPolygonStatus";
    // @ts-ignore
    ImportPolygonStatus.__docgenInfo = { "description": "", "displayName": "ImportPolygonStatus", "props": { "status": { "defaultValue": null, "description": "", "name": "status", "required": true, "type": { "name": "enum", "value": [{ "value": "0" }, { "value": "1" }, { "value": "2" }] } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/conversion/ImportPolygonStatus.tsx#ImportPolygonStatus"] = { docgenInfo: ImportPolygonStatus.__docgenInfo, name: "ImportPolygonStatus", path: "src/conversion/ImportPolygonStatus.tsx#ImportPolygonStatus" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/conversion/format/geojson.ts":
/*!******************************************!*\
  !*** ./src/conversion/format/geojson.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   geojson: () => (/* binding */ geojson)
/* harmony export */ });
/* harmony import */ var _mapbox_geojson_rewind__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mapbox/geojson-rewind */ "./node_modules/@mapbox/geojson-rewind/index.js");
/* harmony import */ var _mapbox_geojson_rewind__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_mapbox_geojson_rewind__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _mapbox_geojsonhint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mapbox/geojsonhint */ "./node_modules/@mapbox/geojsonhint/lib/index.js");
/* harmony import */ var _common_helpers_prettyPrint__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/helpers/prettyPrint */ "./src/common/helpers/prettyPrint.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ "./src/conversion/format/types.ts");




const serialize = coordinates => {
  const geoJSON = {
    type: 'FeatureCollection',
    features: [{
      type: 'Feature',
      properties: {},
      geometry: {
        type: 'Polygon',
        coordinates: [coordinates.map(({
          longitude,
          latitude
        }) => [longitude, latitude])]
      }
    }]
  };
  return (0,_common_helpers_prettyPrint__WEBPACK_IMPORTED_MODULE_3__.prettyPrint)(geoJSON);
};
const ALLOWED_GEOJSON_GEOMETRY_TYPES = ['Polygon'];
const ALLOWED_GEOJSON_TYPES = ['FeatureCollection', 'Feature', ...ALLOWED_GEOJSON_GEOMETRY_TYPES];
const getErrors = value => {
  return _mapbox_geojsonhint__WEBPACK_IMPORTED_MODULE_1__.hint(value, {
    precisionWarning: false
  });
};
const acceptGeoJSON = value => {
  return getErrors(_mapbox_geojson_rewind__WEBPACK_IMPORTED_MODULE_0___default()(value)).length === 0;
};
const getCoordinatesFromPolygon = polygon => {
  return polygon.coordinates[0].map(([longitude, latitude]) => ({
    longitude,
    latitude
  }));
};
const deserialize = raw => {
  const parsed = JSON.parse(raw);
  if (!acceptGeoJSON(parsed)) {
    throw new Error(`Invalid GeoJSON detected:\n${getErrors(parsed).map(error => `- ${error.message}\n`)}`);
  }
  switch (parsed.type) {
    case 'Feature':
      {
        const geometry = parsed.geometry;
        if (geometry.type !== 'Polygon') {
          throw new Error(`Geometry type ${geometry.type} is not supported, must be one of ${ALLOWED_GEOJSON_GEOMETRY_TYPES}`);
        }
        return getCoordinatesFromPolygon(geometry);
      }
    case 'FeatureCollection':
      {
        const geometry = parsed.features[0].geometry;
        if (geometry.type !== 'Polygon') {
          throw new Error(`Geometry type ${geometry.type} is not supported, must be one of ${ALLOWED_GEOJSON_GEOMETRY_TYPES}`);
        }
        return getCoordinatesFromPolygon(geometry);
      }
    case 'Polygon':
      {
        const polygon = parsed;
        return getCoordinatesFromPolygon(polygon);
      }
    default:
      {
        throw new Error(`Type ${parsed.type} is not supported, must be one of ${ALLOWED_GEOJSON_TYPES}`);
      }
  }
};
const validate = raw => {
  try {
    deserialize(raw);
    return true;
  } catch (e) {
    return false;
  }
};
const geojson = {
  name: _types__WEBPACK_IMPORTED_MODULE_2__.FormatType.GEOJSON,
  displayName: 'GeoJSON',
  description: `GeoJSON is a format for encoding a variety of geographic data structures. <a href="https://geojson.org/" target="_blank">More info</a>`,
  serialize,
  deserialize,
  validate
};

/***/ }),

/***/ "./src/conversion/format/index.ts":
/*!****************************************!*\
  !*** ./src/conversion/format/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   format: () => (/* binding */ format)
/* harmony export */ });
/* harmony import */ var _geojson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geojson */ "./src/conversion/format/geojson.ts");
/* harmony import */ var _jts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jts */ "./src/conversion/format/jts.ts");
/* harmony import */ var _latlng__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./latlng */ "./src/conversion/format/latlng.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types */ "./src/conversion/format/types.ts");




const format = {
  [_types__WEBPACK_IMPORTED_MODULE_3__.FormatType.GEOJSON]: _geojson__WEBPACK_IMPORTED_MODULE_0__.geojson,
  [_types__WEBPACK_IMPORTED_MODULE_3__.FormatType.JTS]: _jts__WEBPACK_IMPORTED_MODULE_1__.jts,
  [_types__WEBPACK_IMPORTED_MODULE_3__.FormatType.LATLNG]: _latlng__WEBPACK_IMPORTED_MODULE_2__.latlng
};

/***/ }),

/***/ "./src/conversion/format/jts.ts":
/*!**************************************!*\
  !*** ./src/conversion/format/jts.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   jts: () => (/* binding */ jts)
/* harmony export */ });
/* harmony import */ var _common_helpers_prettyPrint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/helpers/prettyPrint */ "./src/common/helpers/prettyPrint.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/conversion/format/types.ts");


const jts = {
  name: _types__WEBPACK_IMPORTED_MODULE_0__.FormatType.JTS,
  displayName: 'JTS',
  serialize: coordinates => {
    return (0,_common_helpers_prettyPrint__WEBPACK_IMPORTED_MODULE_1__.prettyPrint)(coordinates.map(({
      longitude,
      latitude
    }) => [longitude, latitude]));
  },
  deserialize: raw => {
    throw new Error('not implemented');
  },
  validate: raw => {
    throw new Error('not implemented');
  }
};

/***/ }),

/***/ "./src/conversion/format/latlng.ts":
/*!*****************************************!*\
  !*** ./src/conversion/format/latlng.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   latlng: () => (/* binding */ latlng)
/* harmony export */ });
/* harmony import */ var _common_helpers_prettyPrint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/helpers/prettyPrint */ "./src/common/helpers/prettyPrint.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/conversion/format/types.ts");


const latlng = {
  name: _types__WEBPACK_IMPORTED_MODULE_0__.FormatType.LATLNG,
  displayName: 'LatLng',
  serialize: coordinates => {
    return (0,_common_helpers_prettyPrint__WEBPACK_IMPORTED_MODULE_1__.prettyPrint)(coordinates);
  },
  deserialize: raw => {
    throw new Error('not implemented');
  },
  validate: raw => {
    throw new Error('not implemented');
  }
};

/***/ }),

/***/ "./src/conversion/format/types.ts":
/*!****************************************!*\
  !*** ./src/conversion/format/types.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FormatType: () => (/* binding */ FormatType)
/* harmony export */ });
let FormatType = /*#__PURE__*/function (FormatType) {
  FormatType["GEOJSON"] = "geojson";
  FormatType["LATLNG"] = "latlng";
  FormatType["JTS"] = "jts";
  return FormatType;
}({});

/***/ }),

/***/ "./src/conversion/useDeserialize.tsx":
/*!*******************************************!*\
  !*** ./src/conversion/useDeserialize.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useDeserialize: () => (/* binding */ useDeserialize)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./format */ "./src/conversion/format/index.ts");


const useDeserialize = raw => {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    // the only format that is currently supported is GeoJSON
    const detectedFormat = _format__WEBPACK_IMPORTED_MODULE_1__.format.geojson;
    return detectedFormat.validate(raw) ? {
      valid: true,
      coordinates: detectedFormat.deserialize(raw)
    } : {
      valid: false
    };
  }, [raw]);
};
try {
    // @ts-ignore
    useDeserialize.displayName = "useDeserialize";
    // @ts-ignore
    useDeserialize.__docgenInfo = { "description": "", "displayName": "useDeserialize", "props": {} };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/conversion/useDeserialize.tsx#useDeserialize"] = { docgenInfo: useDeserialize.__docgenInfo, name: "useDeserialize", path: "src/conversion/useDeserialize.tsx#useDeserialize" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/helpers.ts":
/*!************************!*\
  !*** ./src/helpers.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addCoordinates: () => (/* binding */ addCoordinates),
/* harmony export */   createCoordinateFromLeafletLatLng: () => (/* binding */ createCoordinateFromLeafletLatLng),
/* harmony export */   createLeafletLatLngBoundsFromCoordinates: () => (/* binding */ createLeafletLatLngBoundsFromCoordinates),
/* harmony export */   createLeafletLatLngFromCoordinate: () => (/* binding */ createLeafletLatLngFromCoordinate),
/* harmony export */   createLeafletLatLngTupleFromCoordinate: () => (/* binding */ createLeafletLatLngTupleFromCoordinate),
/* harmony export */   ensurePolygonList: () => (/* binding */ ensurePolygonList),
/* harmony export */   getCenterCoordinate: () => (/* binding */ getCenterCoordinate),
/* harmony export */   getMidPoint: () => (/* binding */ getMidPoint),
/* harmony export */   getPolygonEdges: () => (/* binding */ getPolygonEdges),
/* harmony export */   isClosingPointsSelected: () => (/* binding */ isClosingPointsSelected),
/* harmony export */   isCoordinateInPolygon: () => (/* binding */ isCoordinateInPolygon),
/* harmony export */   isPolygonClosed: () => (/* binding */ isPolygonClosed),
/* harmony export */   isPolygonList: () => (/* binding */ isPolygonList),
/* harmony export */   movePolygonCoordinates: () => (/* binding */ movePolygonCoordinates),
/* harmony export */   removeSelectedPoints: () => (/* binding */ removeSelectedPoints),
/* harmony export */   subtractCoordinates: () => (/* binding */ subtractCoordinates)
/* harmony export */ });
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_isequal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.isequal */ "./node_modules/lodash.isequal/index.js");
/* harmony import */ var lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isequal__WEBPACK_IMPORTED_MODULE_1__);


const createLeafletLatLngTupleFromCoordinate = coordinate => [coordinate.latitude, coordinate.longitude];
const createLeafletLatLngBoundsFromCoordinates = coordinates => new leaflet__WEBPACK_IMPORTED_MODULE_0__.LatLngBounds(coordinates.map(createLeafletLatLngTupleFromCoordinate));
const createLeafletLatLngFromCoordinate = coordinate => new leaflet__WEBPACK_IMPORTED_MODULE_0__.LatLng(coordinate.latitude, coordinate.longitude);
const createCoordinateFromLeafletLatLng = latLng => ({
  latitude: latLng.lat,
  longitude: latLng.lng
});
const addCoordinates = (coordA, coordB) => ({
  latitude: coordA.latitude + coordB.latitude,
  longitude: coordA.longitude + coordB.longitude
});
const subtractCoordinates = (coordA, coordB) => ({
  latitude: coordA.latitude - coordB.latitude,
  longitude: coordA.longitude - coordB.longitude
});
const isPolygonClosed = coordinates => coordinates && coordinates.length > 2 && lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default()(coordinates[0], coordinates[coordinates.length - 1]);
const isClosingPointsSelected = (coordinates, selection) => isPolygonClosed(coordinates) && (selection.has(coordinates.length - 1) || selection.has(0));

// https://wrf.ecse.rpi.edu//Research/Short_Notes/pnpoly.html
const isCoordinateInPolygon = (coordinate, polygon) => {
  let inside = false;
  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {
    const intersect = polygon[i].longitude > coordinate.longitude !== polygon[j].longitude > coordinate.longitude && coordinate.latitude < (polygon[j].latitude - polygon[i].latitude) * (coordinate.longitude - polygon[i].longitude) / (polygon[j].longitude - polygon[i].longitude) + polygon[i].latitude;
    if (intersect) {
      inside = !inside;
    }
  }
  return inside;
};
const movePolygonCoordinates = (polygon, selectedCoordinates, moveVector) => {
  const selection = new Set([...selectedCoordinates]);
  if (isClosingPointsSelected(polygon, selection)) {
    selection.add(0);
    selection.add(polygon.length - 1);
  }
  return polygon.map((coord, index) => {
    if (selection.has(index)) {
      return addCoordinates(coord, moveVector);
    } else {
      return coord;
    }
  });
};
const removeSelectedPoints = (polygonCoordinates, selectedPoints) => {
  const newPolygonCoordinates = polygonCoordinates.filter((polygonCoordinate, index) => !selectedPoints.has(index));
  const isOldPathClosed = polygonCoordinates.length > 1 && lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default()(polygonCoordinates[0], polygonCoordinates[polygonCoordinates.length - 1]);
  const isNewPathClosed = newPolygonCoordinates.length > 1 && lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default()(newPolygonCoordinates[0], newPolygonCoordinates[newPolygonCoordinates.length - 1]);

  // Open closed path if it has 3 points or less
  if (newPolygonCoordinates.length < 4 && isNewPathClosed) {
    newPolygonCoordinates.shift();
  }

  // Remove closing points if either of them was removed
  if (isOldPathClosed) {
    if (selectedPoints.has(0) && !selectedPoints.has(polygonCoordinates.length - 1)) {
      newPolygonCoordinates.pop();
    }
    if (!selectedPoints.has(0) && selectedPoints.has(polygonCoordinates.length - 1)) {
      newPolygonCoordinates.shift();
    }
  }

  // Close previously closed path if it has 3 points or more
  if (isOldPathClosed && !isNewPathClosed && newPolygonCoordinates.length > 2) {
    newPolygonCoordinates.push({
      ...newPolygonCoordinates[0]
    });
  }
  return newPolygonCoordinates;
};
const getCenterCoordinate = (coordA, coordB) => ({
  latitude: (coordA.latitude + coordB.latitude) / 2,
  longitude: (coordA.longitude + coordB.longitude) / 2
});

// Returns the center coordinates of the polygon edges
const getPolygonEdges = polygon => polygon.reduce((edges, coordinate, index) => {
  if (index === 0 || lodash_isequal__WEBPACK_IMPORTED_MODULE_1___default()(polygon[index], polygon[index - 1])) {
    return edges;
  }
  edges.push(getCenterCoordinate(polygon[index], polygon[index - 1]));
  return edges;
}, []);

// Always returns a list of polygons from a single or multiple polygons
const ensurePolygonList = polygons => {
  if (polygons.length === 0) {
    return [[]];
  }
  if (isPolygonList(polygons)) {
    // we have to cast here because ts can not infer the type from Array.isArray
    return polygons;
  }

  // we have to cast here because ts can not infer the type from Array.isArray
  return [polygons];
};
const isPolygonList = polygons => {
  return Array.isArray(polygons[0]);
};

/**
     * function to calculate the midpoint of the edge
     * @param coord1
     * @param coord2
*/
const getMidPoint = (coord1, coord2) => ({
  latitude: (coord1.latitude + coord2.latitude) / 2,
  longitude: (coord1.longitude + coord2.longitude) / 2
});

/***/ }),

/***/ "./src/leaflet/Map.tsx":
/*!*****************************!*\
  !*** ./src/leaflet/Map.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Container: () => (/* binding */ Container),
/* harmony export */   Map: () => (/* binding */ Map)
/* harmony export */ });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/lib/MapContainer.js");


const Map = (0,styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])((0,react_leaflet__WEBPACK_IMPORTED_MODULE_1__.MapContainer))`
    height: 100%;
    width: 100%;
    z-index: 0;

    cursor: ${({
  drawCursor
}) => drawCursor ? 'crosshair !important' : 'auto'};
`;
const Container = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div`
    position: relative;
    height: 100%;
    width: 100%;
`;
try {
    // @ts-ignore
    Map.displayName = "Map";
    // @ts-ignore
    Map.__docgenInfo = { "description": "", "displayName": "Map", "props": { "drawCursor": { "defaultValue": null, "description": "", "name": "drawCursor", "required": true, "type": { "name": "boolean" } }, "theme": { "defaultValue": null, "description": "", "name": "theme", "required": false, "type": { "name": "any" } }, "as": { "defaultValue": null, "description": "", "name": "as", "required": false, "type": { "name": "undefined" } }, "forwardedAs": { "defaultValue": null, "description": "", "name": "forwardedAs", "required": false, "type": { "name": "undefined" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/leaflet/Map.tsx#Map"] = { docgenInfo: Map.__docgenInfo, name: "Map", path: "src/leaflet/Map.tsx#Map" };
}
catch (__react_docgen_typescript_loader_error) { }
try {
    // @ts-ignore
    Container.displayName = "Container";
    // @ts-ignore
    Container.__docgenInfo = { "description": "", "displayName": "Container", "props": { "ref": { "defaultValue": null, "description": "", "name": "ref", "required": false, "type": { "name": "((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null" } }, "theme": { "defaultValue": null, "description": "", "name": "theme", "required": false, "type": { "name": "any" } }, "as": { "defaultValue": null, "description": "", "name": "as", "required": false, "type": { "name": "undefined" } }, "forwardedAs": { "defaultValue": null, "description": "", "name": "forwardedAs", "required": false, "type": { "name": "undefined" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/leaflet/Map.tsx#Container"] = { docgenInfo: Container.__docgenInfo, name: "Container", path: "src/leaflet/Map.tsx#Container" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./stories/StateContainer.tsx":
/*!************************************!*\
  !*** ./stories/StateContainer.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StateContainer: () => (/* binding */ StateContainer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

const StateContainer = ({
  children,
  initialState
}) => {
  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState);
  return children(state, setState);
};
try {
    // @ts-ignore
    StateContainer.displayName = "StateContainer";
    // @ts-ignore
    StateContainer.__docgenInfo = { "description": "", "displayName": "StateContainer", "props": { "initialState": { "defaultValue": null, "description": "", "name": "initialState", "required": true, "type": { "name": "{}" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["stories/StateContainer.tsx#StateContainer"] = { docgenInfo: StateContainer.__docgenInfo, name: "StateContainer", path: "stories/StateContainer.tsx#StateContainer" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./stories/polygons.ts":
/*!*****************************!*\
  !*** ./stories/polygons.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BOUNDARY: () => (/* binding */ BOUNDARY),
/* harmony export */   POLYGON: () => (/* binding */ POLYGON),
/* harmony export */   POLYGON_ONE: () => (/* binding */ POLYGON_ONE),
/* harmony export */   POLYGON_THREE: () => (/* binding */ POLYGON_THREE),
/* harmony export */   POLYGON_TWO: () => (/* binding */ POLYGON_TWO)
/* harmony export */ });
const POLYGON = [{
  latitude: 53.56545917520555,
  longitude: 10.0412155687809
}, {
  latitude: 53.56586697476003,
  longitude: 10.018899589776995
}, {
  latitude: 53.58380626282291,
  longitude: 10.005166679620745
}, {
  latitude: 53.56668256207333,
  longitude: 9.993150383234026
}, {
  latitude: 53.56647866671947,
  longitude: 9.961908012628557
}, {
  latitude: 53.555466857846014,
  longitude: 9.979417473077776
}, {
  latitude: 53.55505895802228,
  longitude: 10.02576604485512
}, {
  latitude: 53.56545917520555,
  longitude: 10.0412155687809
}];
const POLYGON_ONE = [{
  longitude: 9.99927520751953,
  latitude: 53.61511726495334
}, {
  longitude: 9.959793090820312,
  latitude: 53.59046705636403
}, {
  longitude: 10.050430297851562,
  latitude: 53.58659505554131
}, {
  longitude: 9.99927520751953,
  latitude: 53.61511726495334
}];
const POLYGON_TWO = [{
  longitude: 9.936790466308594,
  latitude: 53.575588484564
}, {
  longitude: 9.894561767578125,
  latitude: 53.54397962810946
}, {
  longitude: 10.000648498535156,
  latitude: 53.550507262191466
}, {
  longitude: 9.936790466308594,
  latitude: 53.575588484564
}];
const POLYGON_THREE = [{
  longitude: 10.037727355957031,
  latitude: 53.58292651697834
}, {
  longitude: 9.976272583007812,
  latitude: 53.576811578422124
}, {
  longitude: 10.084762573242188,
  latitude: 53.53806309007896
}, {
  longitude: 10.037727355957031,
  latitude: 53.58292651697834
}];
const BOUNDARY = [{
  latitude: 53.443987343914415,
  longitude: 10.406995532226574
}, {
  latitude: 53.48568199044699,
  longitude: 10.291639086914074
}, {
  latitude: 53.52325380763081,
  longitude: 10.316358325195324
}, {
  latitude: 53.57180275272803,
  longitude: 10.323911425781262
}, {
  latitude: 53.65408611468818,
  longitude: 10.37815642089845
}, {
  latitude: 53.73661534401494,
  longitude: 10.354810473632824
}, {
  latitude: 53.76016541209191,
  longitude: 10.3149850341797
}, {
  latitude: 53.77193549631012,
  longitude: 10.259366748046887
}, {
  latitude: 53.784513662021666,
  longitude: 10.207181689453137
}, {
  latitude: 53.79303221318756,
  longitude: 10.132337329101574
}, {
  latitude: 53.79931860574721,
  longitude: 10.043845889282238
}, {
  latitude: 53.78512218732761,
  longitude: 9.92917608947755
}, {
  latitude: 53.70573664949797,
  longitude: 9.8425729248047
}, {
  latitude: 53.682969417399946,
  longitude: 9.795194384765637
}, {
  latitude: 53.664461973731676,
  longitude: 9.784208056640637
}, {
  latitude: 53.662020824914535,
  longitude: 9.741636035156262
}, {
  latitude: 53.624572167578165,
  longitude: 9.723783251953137
}, {
  latitude: 53.5791414422048,
  longitude: 9.714170214843762
}, {
  latitude: 53.4828219018219,
  longitude: 9.786954638671887
}, {
  latitude: 53.4321255060469,
  longitude: 9.8645455810547
}, {
  latitude: 53.4268070555346,
  longitude: 10.008741137695324
}, {
  latitude: 53.4607518789609,
  longitude: 10.0513131591797
}, {
  latitude: 53.379730238088,
  longitude: 10.203061816406262
}, {
  latitude: 53.443987343914415,
  longitude: 10.406995532226574
}];

/***/ }),

/***/ "?32db":
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?bd51":
/*!**********************!*\
  !*** path (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ })

}]);
//# sourceMappingURL=PolygonDraw-stories.iframe.bundle.js.map